[{"/Users/mnguessan/dev/hub/src/index.js":"1","/Users/mnguessan/dev/hub/src/App.js":"2","/Users/mnguessan/dev/hub/src/context/gallery-context.js":"3","/Users/mnguessan/dev/hub/src/hooks/useAuth.js":"4","/Users/mnguessan/dev/hub/src/components/SignIn.js":"5","/Users/mnguessan/dev/hub/src/components/NonIntuitUser.js":"6","/Users/mnguessan/dev/hub/src/components/SignOut.js":"7","/Users/mnguessan/dev/hub/src/utils/firebase.js":"8","/Users/mnguessan/dev/hub/src/components/Hub.js":"9","/Users/mnguessan/dev/hub/src/components/TrainingList.js":"10","/Users/mnguessan/dev/hub/src/components/Loading.js":"11","/Users/mnguessan/dev/hub/src/components/NoAssetsFound.js":"12","/Users/mnguessan/dev/hub/src/components/TopBar.js":"13","/Users/mnguessan/dev/hub/src/components/User.js":"14","/Users/mnguessan/dev/hub/src/components/Detail.js":"15","/Users/mnguessan/dev/hub/src/hooks/useAsset.js":"16","/Users/mnguessan/dev/hub/src/components/Admin.js":"17","/Users/mnguessan/dev/hub/src/hooks/useVideos.js":"18","/Users/mnguessan/dev/hub/src/components/AddEdit.js":"19","/Users/mnguessan/dev/hub/src/components/EditVideo.js":"20","/Users/mnguessan/dev/hub/src/components/Wisiwyg.js":"21","/Users/mnguessan/dev/hub/src/components/Draft/index.js":"22","/Users/mnguessan/dev/hub/src/components/VideoUploader.js":"23","/Users/mnguessan/dev/hub/src/components/AddTags.js":"24","/Users/mnguessan/dev/hub/src/components/Publish.js":"25","/Users/mnguessan/dev/hub/src/components/Title.js":"26","/Users/mnguessan/dev/hub/src/hooks/useUsers.js":"27","/Users/mnguessan/dev/hub/src/components/Msg.js":"28","/Users/mnguessan/dev/hub/src/components/Stats.js":"29","/Users/mnguessan/dev/hub/src/components/Tag.js":"30","/Users/mnguessan/dev/hub/src/components/SearchVideo.js":"31","/Users/mnguessan/dev/hub/src/components/Heads.js":"32"},{"size":264,"mtime":1676667179559,"results":"33","hashOfConfig":"34"},{"size":1310,"mtime":1677915491963,"results":"35","hashOfConfig":"34"},{"size":3183,"mtime":1677891517389,"results":"36","hashOfConfig":"34"},{"size":288,"mtime":1676666851604,"results":"37","hashOfConfig":"34"},{"size":480,"mtime":1677796981772,"results":"38","hashOfConfig":"34"},{"size":209,"mtime":1677798298354,"results":"39","hashOfConfig":"34"},{"size":374,"mtime":1676668800001,"results":"40","hashOfConfig":"34"},{"size":1257,"mtime":1677869714225,"results":"41","hashOfConfig":"34"},{"size":778,"mtime":1677538009380,"results":"42","hashOfConfig":"34"},{"size":481,"mtime":1677798604755,"results":"43","hashOfConfig":"34"},{"size":182,"mtime":1677531117373,"results":"44","hashOfConfig":"34"},{"size":81,"mtime":1676671339396,"results":"45","hashOfConfig":"34"},{"size":399,"mtime":1677791041871,"results":"46","hashOfConfig":"34"},{"size":723,"mtime":1676666851596,"results":"47","hashOfConfig":"34"},{"size":354,"mtime":1676671325306,"results":"48","hashOfConfig":"34"},{"size":466,"mtime":1677217519744,"results":"49","hashOfConfig":"34"},{"size":1824,"mtime":1678135992060,"results":"50","hashOfConfig":"34"},{"size":735,"mtime":1677657992999,"results":"51","hashOfConfig":"34"},{"size":1618,"mtime":1678147654773,"results":"52","hashOfConfig":"34"},{"size":1934,"mtime":1678134314990,"results":"53","hashOfConfig":"34"},{"size":1249,"mtime":1677889470666,"results":"54","hashOfConfig":"34"},{"size":6016,"mtime":1677888776830,"results":"55","hashOfConfig":"34"},{"size":3739,"mtime":1677886868370,"results":"56","hashOfConfig":"34"},{"size":6160,"mtime":1677915667006,"results":"57","hashOfConfig":"34"},{"size":3283,"mtime":1678147589137,"results":"58","hashOfConfig":"34"},{"size":1291,"mtime":1677887104444,"results":"59","hashOfConfig":"34"},{"size":691,"mtime":1677869101263,"results":"60","hashOfConfig":"34"},{"size":111,"mtime":1677870888136,"results":"61","hashOfConfig":"34"},{"size":681,"mtime":1677893484571,"results":"62","hashOfConfig":"34"},{"size":369,"mtime":1677916820048,"results":"63","hashOfConfig":"34"},{"size":238,"mtime":1677918175937,"results":"64","hashOfConfig":"34"},{"size":1295,"mtime":1678138847733,"results":"65","hashOfConfig":"34"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"1yu24fu",{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"68"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"68"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"68"},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"68"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"68"},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"68"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"68"},{"filePath":"120","messages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"68"},{"filePath":"123","messages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"127","messages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"68"},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"132","messages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"134","usedDeprecatedRules":"68"},{"filePath":"135","messages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"137","messages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"68"},{"filePath":"140","messages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/mnguessan/dev/hub/src/index.js",[],["142","143"],"/Users/mnguessan/dev/hub/src/App.js",["144","145"],"import { useEffect } from 'react'\nimport { useGalleryState } from './context/gallery-context'\nimport useAuth from './hooks/useAuth'\nimport useUsers from './hooks/useUsers'\nimport './App.css'\n\nimport SignIn from './components/SignIn'\nimport NonIntuitUser from './components/NonIntuitUser'\nimport Hub from './components/Hub'\nimport { db,setDoc,doc } from './utils/firebase'\n\n\nconst App = ()=>{\n\n    const {\n      state: { isIntuitEmployee,org },\n      dispatch\n    } = useGalleryState()\n\n  const users = useUsers()\n  const user = useAuth()\n\n  const getUser = ()=>{\n    if(user){\n      const { displayName,email,photoURL } = user\n      const isFam = email.indexOf(org) !== -1\n      if(isFam !== isIntuitEmployee) dispatch({type:'IS_FAM',payload:isFam})\n      dispatch({type:'USER',payload:{displayName,email,photoURL}})\n\n      if(users&&!users.hasOwnProperty(email)) {\n        const newUser = {\n          displayName,\n          photoURL,\n          preferredName:displayName\n        }\n        setDoc(doc(db, \"hub/data/users/\", email), newUser)\n      }\n\n    } else dispatch({type:'IS_FAM',payload:false})\n  }\n\n  useEffect(getUser,[user,!users])\n  \n\n  return (\n    <>\n      {user&&!isIntuitEmployee&&<NonIntuitUser/>}\n      {user&&isIntuitEmployee&&<Hub/>}\n      {!user&&<SignIn/>}\n    </>\n  )\n}\n\nexport default App\n","/Users/mnguessan/dev/hub/src/context/gallery-context.js",[],"/Users/mnguessan/dev/hub/src/hooks/useAuth.js",[],"/Users/mnguessan/dev/hub/src/components/SignIn.js",[],"/Users/mnguessan/dev/hub/src/components/NonIntuitUser.js",[],"/Users/mnguessan/dev/hub/src/components/SignOut.js",[],"/Users/mnguessan/dev/hub/src/utils/firebase.js",[],"/Users/mnguessan/dev/hub/src/components/Hub.js",[],"/Users/mnguessan/dev/hub/src/components/TrainingList.js",["146","147","148","149","150","151","152","153"],"import Loading from './Loading'\nimport NoAssetsFound from './NoAssetsFound'\nimport useVideos from '../hooks/useVideos'\nimport { useGalleryState } from '../context/gallery-context'\nimport {useEffect} from 'react'\n\nconst TrainingList = ()=>{\n  const assets = useVideos()\n  const { state:{ searchValue,bu,user },dispatch } = useGalleryState()\n\n\n\n  return (\n    <div className=\"SignIn\">\n      <h1>Training Videos</h1>\n      <h2>Yay!!</h2>\n    </div>\n  )\n}\n\nexport default TrainingList\n","/Users/mnguessan/dev/hub/src/components/Loading.js",["154"],"import loading from '../assets/icons/loading.gif'\nconst Loading = ()=>(\n  <div className=\"Loading\">\n    <div><img width=\"50\" src={loading}/></div>\n  </div>\n)\n\nexport default Loading\n","/Users/mnguessan/dev/hub/src/components/NoAssetsFound.js",[],"/Users/mnguessan/dev/hub/src/components/TopBar.js",[],"/Users/mnguessan/dev/hub/src/components/User.js",[],"/Users/mnguessan/dev/hub/src/components/Detail.js",["155"],"import { useParams } from 'react-router-dom'\nimport { useGalleryState } from '../context/gallery-context'\nimport useAsset from '../hooks/useAsset'\nimport Loading from './Loading'\n\n\nconst Detail = ()=>{\n\n  const { assetID } = useParams()\n  const dbAsset = useAsset(assetID)\n\n\n  if(!dbAsset)return <Loading/>\n\n  return <p>Detail</p>\n}\nexport default Detail","/Users/mnguessan/dev/hub/src/hooks/useAsset.js",["156"],"import { useState,useEffect } from 'react'\nimport { db,doc,getDoc } from '../utils/firebase'\n\nconst useAsset = assetID =>{\n\n  const [asset,setAsset] = useState(null)\n  \n  useEffect(()=>{\n    const getAssetFromFB = async()=> {\n\n      const dbAsset = doc(db,\"mg3/assetsData/assetList/\"+assetID)\n      const snap = await getDoc(dbAsset)\n      if(snap.exists())setAsset(snap.data())\n    }\n    getAssetFromFB()\n  },[])\n\n  if(asset)return asset\n}\n\nexport default useAsset\n","/Users/mnguessan/dev/hub/src/components/Admin.js",["157"],"/Users/mnguessan/dev/hub/src/hooks/useVideos.js",[],"/Users/mnguessan/dev/hub/src/components/AddEdit.js",[],"/Users/mnguessan/dev/hub/src/components/EditVideo.js",["158","159","160","161"],"/Users/mnguessan/dev/hub/src/components/Wisiwyg.js",["162"],"import { useGalleryState } from '../context/gallery-context'\nimport { useEffect,useState } from 'react'\nimport { db,doc,updateDoc,onSnapshot } from '../utils/firebase'\nimport Draft from './Draft'\nconst Wisiwyg = ()=>{\n  \n  \n  const { state:{ editedVideo, previewVideoData },dispatch } = useGalleryState()\n  const [ DBVideo,setDBVideo ] = useState(null)\n  const [ hideWiz,setHideWiz ] = useState(false)\n\n  const contentToDB = async(richText) => {\n    if(editedVideo) {\n      const videoToUpdate = {...DBVideo}\n      videoToUpdate.description = richText\n      const videoRef = doc(db, `hub/data/videos/${editedVideo}`)\n      await updateDoc(videoRef, videoToUpdate)\n    }\n    dispatch({type:\"SET_PREVIEW\",payload:{key:\"description\",richText}})\n  }\n\n\n\n  useEffect(()=>{\n    const unsub = onSnapshot(doc(db, `hub/data/videos/${editedVideo}`), video => {\n      setDBVideo(video.data()||previewVideoData)\n    })\n    return unsub\n  },[editedVideo])\n\n  useEffect(()=>{\n    setHideWiz(true)\n    setTimeout(()=>setHideWiz(false),1)\n  },[editedVideo])\n\n\n\n  return (\n   <div className=\"Wisiwyg\">\n\n    <label>Description</label>\n    {DBVideo&&!hideWiz&&<Draft\n        contentToDB={contentToDB}\n        DBVideo={DBVideo}/>}\n   </div>\n  )\n}\n\nexport default Wisiwyg","/Users/mnguessan/dev/hub/src/components/Draft/index.js",[],"/Users/mnguessan/dev/hub/src/components/VideoUploader.js",["163","164","165"],"import { useGalleryState } from '../context/gallery-context'\nimport { useEffect,useState } from 'react'\nimport { db,doc,updateDoc,onSnapshot,\n  getStorage,\n  ref,\n  uploadBytesResumable,\n  getDownloadURL } from '../utils/firebase'\nimport uploadImg from '../assets/icons/upload_blue.svg'\n\n\n\nconst VideoUploader = ()=>{\n  \n  const [ DBVideo,setDBVideo ] = useState(null)\n  const [ videoSrc,setVideoSrc ] = useState(null)\n  const [ thumbnail,setThumbnail ] = useState(null)\n  const { state:{ editedVideo,incompleteForm, previewVideoData, formChecked, wrongFormat},dispatch } = useGalleryState()\n\n  const handleProgress = snap => {\n    const progress = (snap.bytesTransferred / snap.totalBytes) * 100\n    console.log(progress);\n    dispatch({type:\"PROGRESS\",payload:progress})\n  }\n\n  const handleError = err => console.error(err)\n\n  const handleSuccess = (uploadTask,type) => getDownloadURL(uploadTask.snapshot.ref).then(async(url) => {\n    const videoRef = doc(db, `hub/data/videos/${editedVideo}`)\n    const fileToUpdate = {}\n    fileToUpdate[type] = url\n    await updateDoc(videoRef, fileToUpdate)\n    //celebrate success\n  })\n\n  const upload = file =>{\n\n    const type = file.type.startsWith('image/') ? \"thumbnail\" : \"url\"\n\n    const storage = getStorage()\n    const storageRef = ref(storage, `hub/${file.name.split(' ').join('-')}`)\n    const uploadTask = uploadBytesResumable(storageRef, file)\n\n\n\n    uploadTask.on('state_changed', \n      ()=>\n        handleProgress,\n        handleError, \n        ()=>handleSuccess(uploadTask,type)\n    )\n    \n  }\n\n  const handleFileChange = async(e,key) => {\n\n    const file = e.target.files[0]\n    const notAnImageOrVideo = file.type && (!file.type.startsWith('video/') && (!file.type.startsWith('image/')))\n    const wrongFormat = (key === \"url\" && file.type.startsWith('image/')) || (key === \"thumbnail\" && file.type.startsWith('video/'))\n    if (notAnImageOrVideo || wrongFormat) {\n      dispatch({type:\"WRONG_FORMAT\",payload:true})\n      setTimeout(()=>dispatch({type:\"WRONG_FORMAT\",payload:false}),4000)\n      return\n    }\n    const blobURL = URL.createObjectURL(file)\n    if(key === \"url\")setVideoSrc(blobURL)\n    else setThumbnail(blobURL)\n    dispatch({type:\"SET_PREVIEW\",payload:{key:key === \"url\"?\"videoFile\":\"thumbnailFile\",val:file}})\n    if(editedVideo)upload(file)\n    \n   }\n\n  useEffect(()=>{\n    const unsub = onSnapshot(doc(db, `hub/data/videos/${editedVideo}`), video => {\n      setDBVideo(video.data())\n      if(video.data()) {\n        setVideoSrc(video.data().url)\n        setThumbnail(video.data().thumbnail)\n      } else {\n        setVideoSrc(null)\n        setThumbnail(null)\n      }\n    })\n    return unsub\n  },[editedVideo])\n\n\n  return (\n   <div className={`VideoUploader ${(incompleteForm && formChecked || wrongFormat) && ((editedVideo && !DBVideo.url) || (!editedVideo && !previewVideoData.url))?\"error\":\"\"}`}>\n\n\n    <label>Video *</label>\n   \n    <div className=\"videoCtn\">\n      {videoSrc?(\n        <video\n          controls\n          poster={thumbnail}\n          src={videoSrc}/>\n      ):(\n        <label\n          htmlFor=\"video\"\n          className=\"VideoPlaceholder\">\n            <img src={uploadImg}/>\n          </label>\n      )}\n      <div className=\"btnCtn\">\n        {videoSrc&&<label className=\"btn ghost\" htmlFor=\"video\">{videoSrc?\"Change video\" : \"Select a video\"}</label>}\n        <label className=\"btn ghost\" htmlFor=\"thumbnail\">{thumbnail?\"Change thumbnail\" : \"Select a thumbnail\"}</label>\n      </div>\n    </div>\n\n    <input\n      id=\"thumbnail\"\n      type=\"file\"\n      onChange={e=>handleFileChange(e,\"thumbnail\")}/>\n    <input\n      id=\"video\"\n      type=\"file\"\n      onChange={e=>handleFileChange(e,\"url\")}/>\n   </div>\n  )\n}\n\nexport default VideoUploader","/Users/mnguessan/dev/hub/src/components/AddTags.js",["166"],"import { useGalleryState } from '../context/gallery-context'\nimport { useEffect,useState,useRef } from 'react'\nimport { db,doc,addDoc,getDoc,updateDoc,onSnapshot,query,collection } from '../utils/firebase'\nimport Tag from './Tag'\n\nconst AddTags = ()=>{\n  \n  const [ DBVideo,setDBVideo ] = useState(null)\n  const [ tags,setTags ] = useState(null)\n  const [recentTags,setRecentTags] = useState(null) \n  const [tagFilter,setTagFilter] = useState(\"\") \n  const [focus,setFocus] = useState(\"\") \n  const [recentHover,setRecentHover] = useState(false) \n  const [tagsHeight,setTagsHeight] = useState(0) \n  const [loaded,setLoaded] = useState(false) \n  const tagsHeightRef = useRef(null)\n\n  const { state:{ editedVideo,previewVideoData },dispatch } = useGalleryState()\n\n  const saveAfterRemove = key => {\n    const newRecent = [...recentTags]\n    newRecent.unshift(key)\n    updateRecent(newRecent)\n  }\n  const handleRemove = async(key) =>{\n    if(editedVideo){\n      const videoTags = doc(db, `hub/data/videos/${editedVideo}`)\n      const newTags = {...DBVideo}.tags.filter(tag=>tag!==key)\n      await updateDoc(videoTags, { tags: newTags })\n      saveAfterRemove(key)\n    } else {\n      const newTags = {...previewVideoData}.tags.filter(tag=>tag!==key)\n      dispatch({type:\"SET_PREVIEW\",payload:{key:\"tags\",val:newTags}})\n      saveAfterRemove(key)\n    }\n    \n  }\n\n\n  const addTag = async(key) =>{\n\n    setTagFilter(\"\")\n    if(editedVideo){\n      const videoTags = doc(db, `hub/data/videos/${editedVideo}`)\n      const newTags = {...DBVideo}.tags\n      newTags.push(key)\n      await updateDoc(videoTags, { tags: newTags })\n    } else {\n      const newTags = {...previewVideoData}.tags\n      newTags.push(key)\n      dispatch({type:\"SET_PREVIEW\",payload:{key:\"tags\",val:newTags}})\n    }\n    updateRecent([...recentTags].filter(tag=>tag!==key))\n  }\n\n\n\n  \n  const saveContent = () => {\n    \n    if(tags){\n      const oldList = JSON.parse(window.localStorage.getItem('recentTags')) || []\n      const updatedList = [...oldList,...Object.keys(tags)]\n      updateRecent(updatedList)\n    }\n  }\n\n  const updateRecent = newList => {\n    setRecentTags([...new Set(newList)])\n    window.localStorage.setItem('recentTags', JSON.stringify([...new Set(newList)]))\n  }\n\n  const filteredRecentTags = recentTags?recentTags\n  .filter(tagKey=>editedVideo ? !DBVideo.tags.includes(tagKey) : !previewVideoData.tags.includes(tagKey))\n  .filter(tagKey=>tags[tagKey].label.toLocaleLowerCase().includes(tagFilter.toLocaleLowerCase())):[]\n\n  const createNewTag = async()=>{\n\n    setTagFilter(\"\")\n    const hubData = doc(db, `hub/data/`)\n    const colorSnap = await getDoc(hubData)\n    const currentColor = colorSnap.data().currentColor\n    const newNumber = currentColor < 4 ? currentColor + 1 : 0\n    await updateDoc(hubData, { currentColor: newNumber})\n    const newTag = {\n      label: tagFilter,\n      color:newNumber\n    }\n    \n    const newTagRef = await addDoc(collection(db, `hub/data/tags/`), newTag)\n    const newTagKey = newTagRef.id\n\n    if(editedVideo){\n      const oldVideoRef = doc(db, `hub/data/videos/${editedVideo}`)\n      const newTags = [...DBVideo.tags]\n      newTags.push(newTagKey)\n      await updateDoc(oldVideoRef, { tags: newTags})\n    } else {\n      const tempTags = [...previewVideoData.tags]\n      tempTags.push(newTagKey)\n      dispatch({type:\"SET_PREVIEW\",payload:{key:\"tags\",val:tempTags}})\n    }\n\n    const newRecent = [...recentTags]\n    newRecent.unshift(newTagKey)\n    updateRecent(newRecent)\n  }\n\n  useEffect(()=>{\n    const unsub = onSnapshot(doc(db, `hub/data/videos/${editedVideo}`), video => {\n      setDBVideo(video.data()) \n    })\n    return unsub\n  },[editedVideo])\n\n  useEffect(()=>{\n    \n    const dbTagsQuery = query(collection(db,'hub/data/tags/'))\n    const unsub = onSnapshot(dbTagsQuery, snapshot => {\n      let tmpTags = {}\n      snapshot.forEach(snap => {\n        tmpTags[snap.id] = snap.data()\n      })\n      setTags(tmpTags)\n    })\n    return unsub\n  },[editedVideo])\n\n\n  useEffect(saveContent,[editedVideo,tags])\n\n  useEffect(()=>{\n    if(tagsHeightRef) setTagsHeight(tagsHeightRef.current.getBoundingClientRect().height)\n  },[tagsHeightRef,recentTags,editedVideo])\n\n  useEffect(()=>{\n    if(tagsHeightRef && !loaded){\n      setTimeout(()=>{\n        setLoaded(true)\n      },700)\n    }\n  },[tagsHeightRef,editedVideo])\n\n\n  return (\n   <div className=\"AddTags\">\n      <label>Tags</label>\n      <div\n        style={{height:`${tagsHeight + 60}px`}}\n        className={`tagList ${focus} ${loaded?\"loaded\":\"\"}`}>\n        \n        <div ref={tagsHeightRef}>\n          {editedVideo&&DBVideo&&tags&&DBVideo.tags.map(tagKey=>(\n            <Tag\n              key={tagKey}\n              tagKey={tagKey}\n              cb={handleRemove}\n              tags={tags}/>\n          ))}\n          {!editedVideo&&tags&&previewVideoData.tags.map(tagKey=>(\n            <Tag\n              key={tagKey}\n              tagKey={tagKey}\n              cb={handleRemove}\n              tags={tags}/>\n          ))}\n        </div>\n        <input\n          className=\"search\"\n          onFocus={()=>setFocus(\"focus\")}\n          onBlur={()=>{\n            if(!recentHover)setFocus(\"\")\n          }}\n          value={tagFilter}\n          placeholder={`${focus?\"Type\":\"Click\"} to pick or create tag...`}\n          onChange={e=>setTagFilter(e.target.value)}\n          type=\"text\"/>\n          \n        <div\n          style={{top:`${tagsHeight + 70}px`}}\n          className={`recent ${DBVideo&&DBVideo.tags.length === 0 ? \"short\":\"\"}`}\n          onMouseEnter={()=>setRecentHover(true)}\n          onMouseLeave={()=>{\n            setRecentHover(false)\n            if(focus)setFocus(false)\n          }}>\n          <label>Most used</label>\n          {recentTags&&filteredRecentTags.length === 0 && (\n            <button\n              className=\"btn\"\n              onClick={createNewTag}>Create new tag</button>\n          )}\n          {recentTags&&filteredRecentTags.map(tagKey=>(\n            <Tag\n              key={tagKey}\n              tagKey={tagKey}\n              cb={addTag}\n              tags={tags}/>\n          ))}\n        </div>\n      </div>\n   </div>\n  )\n}\n\nexport default AddTags","/Users/mnguessan/dev/hub/src/components/Publish.js",["167","168"],"/Users/mnguessan/dev/hub/src/components/Title.js",[],"/Users/mnguessan/dev/hub/src/hooks/useUsers.js",["169"],"import { useState,useEffect } from 'react'\nimport { db,collection, query, orderBy,onSnapshot } from '../utils/firebase'\n\nconst useUsers = ()=>{\n  const [users,setUsers] = useState(null)\n\n  useEffect(()=>{\n    \n    const dbUsers = []\n    const userQuery = query(collection(db, \"hub/data/users/\"))\n    const unsubscribe = onSnapshot(userQuery, querySnapshot => {\n      \n      querySnapshot.forEach(snap=> {\n        const user = snap.data()\n        user.userID = snap.id\n        dbUsers.unshift(user)\n      })\n      setUsers(dbUsers)\n    })\n\n    return unsubscribe\n  },[])\n  if(users) return users.reduce((acc,itm)=>{\n    acc[itm.userID] = itm\n    return acc\n  },{})\n}\n\nexport default useUsers\n","/Users/mnguessan/dev/hub/src/components/Msg.js",[],"/Users/mnguessan/dev/hub/src/components/Stats.js",["170","171"],"import { useParams } from 'react-router-dom'\nimport { useGalleryState } from '../context/gallery-context'\nimport Loading from './Loading'\nimport { useNavigate } from 'react-router-dom'\n\n\n\nconst Stats = ()=>{\n  const { dispatch } = useGalleryState()\n  const navigate = useNavigate()\n  const handleAddNew = ()=>{\n    dispatch({type:\"ADD_VIDEO\",payload:true})\n    dispatch({type:\"RESET_DEFAULT_VIDEO\"})\n    navigate('/admin')\n  }\n\n  return (\n    <section className=\"Stats SignIn\">\n      <h1>Stats</h1>\n      <h2>Data about the perfomance of the videos</h2>\n      <button className=\"addNew btn\" onClick={handleAddNew}>Upload new video</button>\n    </section>\n  )\n}\nexport default Stats","/Users/mnguessan/dev/hub/src/components/Tag.js",[],"/Users/mnguessan/dev/hub/src/components/SearchVideo.js",["172"],"import { useGalleryState } from '../context/gallery-context'\n\nconst SearchVideo = ()=>{\n  const { dispatch } = useGalleryState()\n\n  return (\n    <section className=\"SearchVideo\">\nSearchVideo\n    </section>\n  )\n}\nexport default SearchVideo","/Users/mnguessan/dev/hub/src/components/Heads.js",["173","174","175","176"],{"ruleId":"177","replacedBy":"178"},{"ruleId":"179","replacedBy":"180"},{"ruleId":"181","severity":1,"message":"182","line":42,"column":21,"nodeType":"183","endLine":42,"endColumn":34,"suggestions":"184"},{"ruleId":"181","severity":1,"message":"185","line":42,"column":27,"nodeType":"186","endLine":42,"endColumn":33},{"ruleId":"187","severity":1,"message":"188","line":1,"column":8,"nodeType":"189","messageId":"190","endLine":1,"endColumn":15},{"ruleId":"187","severity":1,"message":"191","line":2,"column":8,"nodeType":"189","messageId":"190","endLine":2,"endColumn":21},{"ruleId":"187","severity":1,"message":"192","line":5,"column":9,"nodeType":"189","messageId":"190","endLine":5,"endColumn":18},{"ruleId":"187","severity":1,"message":"193","line":8,"column":9,"nodeType":"189","messageId":"190","endLine":8,"endColumn":15},{"ruleId":"187","severity":1,"message":"194","line":9,"column":19,"nodeType":"189","messageId":"190","endLine":9,"endColumn":30},{"ruleId":"187","severity":1,"message":"195","line":9,"column":31,"nodeType":"189","messageId":"190","endLine":9,"endColumn":33},{"ruleId":"187","severity":1,"message":"196","line":9,"column":34,"nodeType":"189","messageId":"190","endLine":9,"endColumn":38},{"ruleId":"187","severity":1,"message":"197","line":9,"column":41,"nodeType":"189","messageId":"190","endLine":9,"endColumn":49},{"ruleId":"198","severity":1,"message":"199","line":4,"column":10,"nodeType":"200","endLine":4,"endColumn":41},{"ruleId":"187","severity":1,"message":"201","line":2,"column":10,"nodeType":"189","messageId":"190","endLine":2,"endColumn":25},{"ruleId":"181","severity":1,"message":"202","line":16,"column":5,"nodeType":"183","endLine":16,"endColumn":7,"suggestions":"203"},{"ruleId":"187","severity":1,"message":"197","line":18,"column":59,"nodeType":"189","messageId":"190","endLine":18,"endColumn":67},{"ruleId":"187","severity":1,"message":"204","line":5,"column":8,"nodeType":"189","messageId":"190","endLine":5,"endColumn":11},{"ruleId":"187","severity":1,"message":"205","line":23,"column":38,"nodeType":"189","messageId":"190","endLine":23,"endColumn":42},{"ruleId":"198","severity":1,"message":"199","line":33,"column":25,"nodeType":"200","endLine":33,"endColumn":47},{"ruleId":"198","severity":1,"message":"199","line":46,"column":11,"nodeType":"200","endLine":46,"endColumn":42},{"ruleId":"181","severity":1,"message":"206","line":29,"column":5,"nodeType":"183","endLine":29,"endColumn":18,"suggestions":"207"},{"ruleId":"208","severity":1,"message":"209","line":88,"column":53,"nodeType":"210","messageId":"211","endLine":88,"endColumn":55},{"ruleId":"208","severity":1,"message":"209","line":88,"column":68,"nodeType":"210","messageId":"211","endLine":88,"endColumn":70},{"ruleId":"198","severity":1,"message":"199","line":103,"column":13,"nodeType":"200","endLine":103,"endColumn":35},{"ruleId":"181","severity":1,"message":"212","line":142,"column":5,"nodeType":"183","endLine":142,"endColumn":32,"suggestions":"213"},{"ruleId":"187","severity":1,"message":"214","line":104,"column":9,"nodeType":"189","messageId":"190","endLine":104,"endColumn":19},{"ruleId":"181","severity":1,"message":"215","line":117,"column":5,"nodeType":"183","endLine":117,"endColumn":7,"suggestions":"216"},{"ruleId":"187","severity":1,"message":"217","line":2,"column":32,"nodeType":"189","messageId":"190","endLine":2,"endColumn":39},{"ruleId":"187","severity":1,"message":"218","line":1,"column":10,"nodeType":"189","messageId":"190","endLine":1,"endColumn":19},{"ruleId":"187","severity":1,"message":"188","line":3,"column":8,"nodeType":"189","messageId":"190","endLine":3,"endColumn":15},{"ruleId":"187","severity":1,"message":"197","line":4,"column":11,"nodeType":"189","messageId":"190","endLine":4,"endColumn":19},{"ruleId":"198","severity":1,"message":"199","line":23,"column":33,"nodeType":"200","endLine":23,"endColumn":61},{"ruleId":"198","severity":1,"message":"199","line":28,"column":13,"nodeType":"200","endLine":28,"endColumn":98},{"ruleId":"198","severity":1,"message":"199","line":34,"column":13,"nodeType":"200","endLine":34,"endColumn":98},{"ruleId":"198","severity":1,"message":"199","line":40,"column":13,"nodeType":"200","endLine":40,"endColumn":101},"no-native-reassign",["219"],"no-negated-in-lhs",["220"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch', 'isIntuitEmployee', 'org', and 'users'. Either include them or remove the dependency array.","ArrayExpression",["221"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","UnaryExpression","no-unused-vars","'Loading' is defined but never used.","Identifier","unusedVar","'NoAssetsFound' is defined but never used.","'useEffect' is defined but never used.","'assets' is assigned a value but never used.","'searchValue' is assigned a value but never used.","'bu' is assigned a value but never used.","'user' is assigned a value but never used.","'dispatch' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useGalleryState' is defined but never used.","React Hook useEffect has a missing dependency: 'assetID'. Either include it or remove the dependency array.",["222"],"'Tag' is defined but never used.","'tags' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'previewVideoData'. Either include it or remove the dependency array.",["223"],"no-mixed-operators","Unexpected mix of '&&' and '||'. Use parentheses to clarify the intended order of operations.","LogicalExpression","unexpectedMixedOperator","React Hook useEffect has a missing dependency: 'loaded'. Either include it or remove the dependency array.",["224"],"'deleteFile' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'editedVideo'. Either include it or remove the dependency array.",["225"],"'orderBy' is defined but never used.","'useParams' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"226","fix":"227"},{"desc":"228","fix":"229"},{"desc":"230","fix":"231"},{"desc":"232","fix":"233"},{"desc":"234","fix":"235"},"Update the dependencies array to be: [dispatch, isIntuitEmployee, org, user, users]",{"range":"236","text":"237"},"Update the dependencies array to be: [assetID]",{"range":"238","text":"239"},"Update the dependencies array to be: [editedVideo, previewVideoData]",{"range":"240","text":"241"},"Update the dependencies array to be: [tagsHeightRef, editedVideo, loaded]",{"range":"242","text":"243"},"Update the dependencies array to be: [editedVideo]",{"range":"244","text":"245"},[1125,1138],"[dispatch, isIntuitEmployee, org, user, users]",[410,412],"[assetID]",[927,940],"[editedVideo, previewVideoData]",[4309,4336],"[tagsHeightRef, editedVideo, loaded]",[3018,3020],"[editedVideo]"]