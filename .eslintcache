[{"/Users/mnguessan/dev/hub/src/index.js":"1","/Users/mnguessan/dev/hub/src/App.js":"2","/Users/mnguessan/dev/hub/src/context/gallery-context.js":"3","/Users/mnguessan/dev/hub/src/hooks/useAuth.js":"4","/Users/mnguessan/dev/hub/src/utils/firebase.js":"5","/Users/mnguessan/dev/hub/src/hooks/useVideos.js":"6","/Users/mnguessan/dev/hub/src/hooks/useUsers.js":"7","/Users/mnguessan/dev/hub/src/hub-context.js":"8","/Users/mnguessan/dev/hub/src/hooks/useVideo.js":"9","/Users/mnguessan/dev/hub/src/components/SignIn.js":"10","/Users/mnguessan/dev/hub/src/components/NonIntuitUser.js":"11","/Users/mnguessan/dev/hub/src/components/Hub.js":"12","/Users/mnguessan/dev/hub/src/components/SignOut.js":"13","/Users/mnguessan/dev/hub/src/components/Admin.js":"14","/Users/mnguessan/dev/hub/src/components/Detail.js":"15","/Users/mnguessan/dev/hub/src/components/TopBar.js":"16","/Users/mnguessan/dev/hub/src/components/TrainingList.js":"17","/Users/mnguessan/dev/hub/src/components/Footer.js":"18","/Users/mnguessan/dev/hub/src/components/Stats.js":"19","/Users/mnguessan/dev/hub/src/components/EditVideo.js":"20","/Users/mnguessan/dev/hub/src/components/AddEdit.js":"21","/Users/mnguessan/dev/hub/src/components/Heads.js":"22","/Users/mnguessan/dev/hub/src/components/SearchVideo.js":"23","/Users/mnguessan/dev/hub/src/components/DetailContent.js":"24","/Users/mnguessan/dev/hub/src/components/RelatedVideos.js":"25","/Users/mnguessan/dev/hub/src/components/Filters.js":"26","/Users/mnguessan/dev/hub/src/components/NoMatch.js":"27","/Users/mnguessan/dev/hub/src/components/HubTitle.js":"28","/Users/mnguessan/dev/hub/src/components/VideoList.js":"29","/Users/mnguessan/dev/hub/src/components/FooterItm.js":"30","/Users/mnguessan/dev/hub/src/components/Search.js":"31","/Users/mnguessan/dev/hub/src/components/Tag.js":"32","/Users/mnguessan/dev/hub/src/components/Msg.js":"33","/Users/mnguessan/dev/hub/src/components/VideoUploader.js":"34","/Users/mnguessan/dev/hub/src/components/Title.js":"35","/Users/mnguessan/dev/hub/src/components/Progress.js":"36","/Users/mnguessan/dev/hub/src/components/Wisiwyg.js":"37","/Users/mnguessan/dev/hub/src/components/Featured.js":"38","/Users/mnguessan/dev/hub/src/components/AddTags.js":"39","/Users/mnguessan/dev/hub/src/components/CraftChoice.js":"40","/Users/mnguessan/dev/hub/src/components/Publish.js":"41","/Users/mnguessan/dev/hub/src/components/ConfirmDelete.js":"42","/Users/mnguessan/dev/hub/src/components/PickThumb.js":"43","/Users/mnguessan/dev/hub/src/components/Success.js":"44","/Users/mnguessan/dev/hub/src/components/Loading.js":"45","/Users/mnguessan/dev/hub/src/components/TagLinks.js":"46","/Users/mnguessan/dev/hub/src/components/Views.js":"47","/Users/mnguessan/dev/hub/src/components/Description.js":"48","/Users/mnguessan/dev/hub/src/components/Helpful.js":"49","/Users/mnguessan/dev/hub/src/components/VideoLoading.js":"50","/Users/mnguessan/dev/hub/src/components/Video.js":"51","/Users/mnguessan/dev/hub/src/components/Dog.js":"52","/Users/mnguessan/dev/hub/src/components/Draft/index.js":"53","/Users/mnguessan/dev/hub/src/utils/thumbz.js":"54"},{"size":240,"mtime":1681527208626,"results":"55","hashOfConfig":"56"},{"size":1343,"mtime":1680636701320,"results":"57","hashOfConfig":"56"},{"size":3850,"mtime":1680042761333,"results":"58","hashOfConfig":"59"},{"size":288,"mtime":1676666851604,"results":"60","hashOfConfig":"56"},{"size":1257,"mtime":1677869714225,"results":"61","hashOfConfig":"56"},{"size":801,"mtime":1681527956313,"results":"62","hashOfConfig":"56"},{"size":705,"mtime":1680830776720,"results":"63","hashOfConfig":"56"},{"size":6614,"mtime":1685072778952,"results":"64","hashOfConfig":"56"},{"size":471,"mtime":1680828244229,"results":"65","hashOfConfig":"56"},{"size":550,"mtime":1680636042110,"results":"66","hashOfConfig":"56"},{"size":243,"mtime":1680636042107,"results":"67","hashOfConfig":"56"},{"size":1350,"mtime":1680913582217,"results":"68","hashOfConfig":"56"},{"size":413,"mtime":1680636042110,"results":"69","hashOfConfig":"56"},{"size":3310,"mtime":1680906231861,"results":"70","hashOfConfig":"56"},{"size":247,"mtime":1680831840983,"results":"71","hashOfConfig":"56"},{"size":883,"mtime":1682012283520,"results":"72","hashOfConfig":"56"},{"size":461,"mtime":1680905548691,"results":"73","hashOfConfig":"56"},{"size":1671,"mtime":1680636042103,"results":"74","hashOfConfig":"56"},{"size":919,"mtime":1680636042111,"results":"75","hashOfConfig":"56"},{"size":2626,"mtime":1685067638104,"results":"76","hashOfConfig":"56"},{"size":2992,"mtime":1685040041860,"results":"77","hashOfConfig":"56"},{"size":1761,"mtime":1680636042104,"results":"78","hashOfConfig":"56"},{"size":412,"mtime":1680906195137,"results":"79","hashOfConfig":"56"},{"size":1934,"mtime":1685072732649,"results":"80","hashOfConfig":"56"},{"size":1077,"mtime":1680673647039,"results":"81","hashOfConfig":"56"},{"size":756,"mtime":1681537936881,"results":"82","hashOfConfig":"56"},{"size":114,"mtime":1680636042107,"results":"83","hashOfConfig":"56"},{"size":895,"mtime":1685067856184,"results":"84","hashOfConfig":"56"},{"size":2093,"mtime":1684430765129,"results":"85","hashOfConfig":"56"},{"size":652,"mtime":1680636042103,"results":"86","hashOfConfig":"56"},{"size":2667,"mtime":1681528213369,"results":"87","hashOfConfig":"56"},{"size":836,"mtime":1682027202679,"results":"88","hashOfConfig":"56"},{"size":160,"mtime":1680636042105,"results":"89","hashOfConfig":"56"},{"size":4764,"mtime":1685072280799,"results":"90","hashOfConfig":"56"},{"size":1418,"mtime":1685039953775,"results":"91","hashOfConfig":"56"},{"size":1133,"mtime":1680724577887,"results":"92","hashOfConfig":"56"},{"size":1472,"mtime":1685040097026,"results":"93","hashOfConfig":"56"},{"size":1601,"mtime":1685039945632,"results":"94","hashOfConfig":"56"},{"size":4966,"mtime":1685039921668,"results":"95","hashOfConfig":"56"},{"size":1884,"mtime":1685039977667,"results":"96","hashOfConfig":"56"},{"size":3585,"mtime":1685040170939,"results":"97","hashOfConfig":"56"},{"size":1875,"mtime":1680636042098,"results":"98","hashOfConfig":"56"},{"size":2365,"mtime":1685071470170,"results":"99","hashOfConfig":"56"},{"size":1468,"mtime":1685073021745,"results":"100","hashOfConfig":"56"},{"size":228,"mtime":1680636042105,"results":"101","hashOfConfig":"56"},{"size":746,"mtime":1682027350716,"results":"102","hashOfConfig":"56"},{"size":1130,"mtime":1680832598722,"results":"103","hashOfConfig":"56"},{"size":268,"mtime":1680679093942,"results":"104","hashOfConfig":"56"},{"size":2371,"mtime":1680805830788,"results":"105","hashOfConfig":"56"},{"size":448,"mtime":1680636042115,"results":"106","hashOfConfig":"56"},{"size":1438,"mtime":1685067656411,"results":"107","hashOfConfig":"56"},{"size":1854,"mtime":1680636042100,"results":"108","hashOfConfig":"56"},{"size":5809,"mtime":1680723643832,"results":"109","hashOfConfig":"56"},{"size":23705,"mtime":1685066073283,"results":"110","hashOfConfig":"56"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"pmv1ui",{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115"},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},"1yu24fu",{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127"},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130"},{"filePath":"131","messages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133"},{"filePath":"134","messages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144"},{"filePath":"145","messages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"153"},{"filePath":"154","messages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158"},{"filePath":"159","messages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"161","messages":"162","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163"},{"filePath":"164","messages":"165","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"168"},{"filePath":"169","messages":"170","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"171"},{"filePath":"172","messages":"173","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"174","messages":"175","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"176","messages":"177","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178"},{"filePath":"179","messages":"180","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"181","messages":"182","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"183"},{"filePath":"184","messages":"185","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"186"},{"filePath":"187","messages":"188","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"189","messages":"190","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"191","messages":"192","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193"},{"filePath":"194","messages":"195","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"196"},{"filePath":"197","messages":"198","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"199","messages":"200","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"201"},{"filePath":"202","messages":"203","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"204"},{"filePath":"205","messages":"206","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"207"},{"filePath":"208","messages":"209","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"210"},{"filePath":"211","messages":"212","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"213"},{"filePath":"214","messages":"215","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"216","messages":"217","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"218"},{"filePath":"219","messages":"220","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"221"},{"filePath":"222","messages":"223","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"224"},{"filePath":"225","messages":"226","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"227","messages":"228","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"229"},{"filePath":"230","messages":"231","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"232","messages":"233","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"234"},{"filePath":"235","messages":"236","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"237"},{"filePath":"238","messages":"239","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"240"},{"filePath":"241","messages":"242","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"243"},{"filePath":"244","messages":"245","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"246","messages":"247","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mnguessan/dev/hub/src/index.js",[],"/Users/mnguessan/dev/hub/src/App.js",["248","249"],"import React, { useEffect } from 'react'\nimport useAuth from './hooks/useAuth'\nimport useUsers from './hooks/useUsers'\nimport { useHubState } from './hub-context'\nimport './App.css'\n\nimport SignIn from './components/SignIn'\nimport NonIntuitUser from './components/NonIntuitUser'\nimport Hub from './components/Hub'\nimport { db, setDoc, doc } from './utils/firebase'\n\nconst App = () => {\n  const {\n    state: { isIntuitEmployee, org },\n    dispatch,\n  } = useHubState()\n\n  const users = useUsers()\n  const user = useAuth()\n\n  const getUser = () => {\n    if (user) {\n      const { displayName, email, photoURL } = user\n      const isFam = email.indexOf(org) !== -1\n      if (isFam !== isIntuitEmployee)\n        dispatch({ type: 'IS_FAM', payload: isFam })\n      dispatch({ type: 'USER', payload: { displayName, email, photoURL } })\n\n      if (users && !users.hasOwnProperty(email)) {\n        const newUser = {\n          displayName,\n          photoURL,\n          preferredName: displayName,\n        }\n        setDoc(doc(db, 'hub/data/users/', email), newUser)\n      }\n    } else dispatch({ type: 'IS_FAM', payload: false })\n  }\n\n  useEffect(getUser, [user, !users])\n\n  return (\n    <>\n      {user && !isIntuitEmployee && <NonIntuitUser />}\n      {user && isIntuitEmployee && <Hub />}\n      {!user && <SignIn />}\n    </>\n  )\n}\n\nexport default App\n","/Users/mnguessan/dev/hub/src/context/gallery-context.js",[],["250","251"],"/Users/mnguessan/dev/hub/src/hooks/useAuth.js",[],"/Users/mnguessan/dev/hub/src/utils/firebase.js",[],"/Users/mnguessan/dev/hub/src/hooks/useVideos.js",[],"/Users/mnguessan/dev/hub/src/hooks/useUsers.js",["252"],"import { useState,useEffect } from 'react'\nimport { db,collection, query, orderBy,onSnapshot } from '../utils/firebase'\n\nconst useUsers = ()=>{\n  const [users,setUsers] = useState(null)\n\n  useEffect(()=>{\n    \n    const dbUsers = []\n    const userQuery = query(collection(db, \"hub/data/users/\"))\n    const unsubscribe = onSnapshot(userQuery, querySnapshot => {\n      \n      querySnapshot.forEach(snap=> {\n        const user = snap.data()\n        user.userID = snap.id\n        dbUsers.unshift(user)\n      })\n      setUsers(dbUsers)\n    })\n\n    return unsubscribe\n  },[])\n  if(users) return users.reduce((acc,itm)=>{\n    acc[itm.userID] = itm\n    return acc\n  },{})\n  return null\n}\n\nexport default useUsers\n","/Users/mnguessan/dev/hub/src/hub-context.js",["253","254"],"import React from 'react'\n\nconst initialHubState = {\n  isIntuitEmployee: false,\n  addVideo: false,\n  formChecked: false,\n  pickThumb: false,\n  stateProgress: 0,\n  incompleteForm: true,\n  wrongFormat: false,\n  publishConfirmed: false,\n  deleteVideo: false,\n  path: \"/\",\n  currentTag: null,\n  org: '@intuit.com',\n  editedVideo: null,\n  newKey: null,\n  user: null,\n  sortKey: null,\n  msg: null,\n  searchValue: '',\n  filters: [],\n  showSearch: false,\n  slideSearch:null,\n  finalURL: \"https://cg-design-learning-hub.surge.sh/#/detail/\",\n  contributors:[\n    \"laura_huston@intuit.com\",\n    \"kristen_haas@intuit.com\",\n    \"alex_johnson@intuit.com\",\n    \"kelsey_staub@intuit.com\",\n    \"jess_tsuji@intuit.com\",\n    \"tina_vu@intuit.com\",\n    \"wendy_whatley@intuit.com\",\n    \"sean_serrano@intuit.com\",\n    \"benjamin_myers@intuit.com\",\n    \"ethan_miller@intuit.com\",\n    \"lucia_ferreira@intuit.com\",\n    // \"chloe_walecki@intuit.com\",\n    \"daviddominick_demarro@intuit.com\",\n    \"maranaho_nguessan@intuit.com\",\n    \"maranaho_n'guessan@intuit.com\",\n    \"maranaho.nguessan@gmail.com\"\n  ],\n  deletedVideos: [],\n  tags: {\n    mv1OnzpI3Z3HL2xQV: {\n      label:'Getting started',\n      craft:\"systems\"\n    },\n    kqWMB8W9yLW3L0eL: {\n      label:'Foundations',\n      craft:\"systems\"\n    },\n    p57D9POClg0lN68u: {\n      label:'Components',\n      craft:\"systems\"\n    },\n    wqDDqbDjEqeMU6Spx: {\n      label: 'Workflow',\n      craft: \"systems\"\n    },\n    vclIpTAnrpdBzpdUJ3v: {\n      label:'Platform',\n      craft: \"systems\"\n    },\n    vclIsfgbBzpdUJ3v: {\n      label:'Figma tips',\n      craft: \"systems\"\n    },\n    paw2zY28Y76cw21k5: {\n      label: 'Native',\n      craft: \"systems\"\n    },\n    hpPRurVvDEHXrmDAKrQ: {\n      label:'Tips & tricks',\n      craft: \"motion\"\n    },\n    QMKDQapl3yzCp06H7: {\n      label:'How-to',\n      craft: \"motion\"\n    },\n    QMKDQapl3yzCp06H7: {\n      label:'How-to',\n      craft: \"motion\"\n    },\n    QMKDQaplfgbCp06H7: {\n      label:'Motion Prep',\n      craft: \"motion\"\n    },\n    QMKDQaplfgbCp06H7: {\n      label:'Figma Motion',\n      craft: \"motion\"\n    },\n    QMKDfdfglfgbCp06H7: {\n      label:'Metrics',\n      craft: \"motion\"\n    },\n  },\n  previewVideoData: {\n    title: '',\n    description: null,\n    thumbnail: 0,\n    featured:false,\n    url: null,\n    videoFile: null,\n    thumbnailFile: null,\n    views: 0,\n    craft: 'systems',\n    likes: [],\n    createdAt: '',\n    helpful: [],\n    notHelpful: [],\n    uploader: '',\n    tags: [],\n  },\n}\n\nconst HubContext = React.createContext()\n\nfunction hubReducer(state, action) {\n  switch (action.type) {\n    \n    case 'PATH': {\n      const PATH = { ...state }\n      PATH.path = action.payload\n      return PATH\n    }\n    \n    case 'SHOW_SEARCH': {\n      const SHOW_SEARCH = { ...state }\n      SHOW_SEARCH.showSearch = action.payload\n      return SHOW_SEARCH\n    }\n    \n    case 'SLIDE_SEARCH': {\n      const SLIDE_SEARCH = { ...state }\n      SLIDE_SEARCH.slideSearch = action.payload\n      return SLIDE_SEARCH\n    }\n\n    case 'HIDE_VIDEO': {\n      const HIDE_VIDEO = { ...state }\n      HIDE_VIDEO.deletedVideos.push(HIDE_VIDEO.editedVideo)\n      return HIDE_VIDEO\n    }\n\n    case 'DELETED_VIDEO': {\n      const DELETED_VIDEO = { ...state }\n      DELETED_VIDEO.editedVideo = null\n      DELETED_VIDEO.deleteVideo = false\n      return DELETED_VIDEO\n    }\n\n    case 'DELETE_VIDEO': {\n      const DELETE_VIDEO = { ...state }\n      DELETE_VIDEO.deleteVideo = action.payload\n      return DELETE_VIDEO\n    }\n\n    case 'PICK_THUMB': {\n      const PICK_THUMB = { ...state }\n      PICK_THUMB.pickThumb = action.payload\n      return PICK_THUMB\n    }\n\n    case 'CURRENT_TAG': {\n      const CURRENT_TAG = { ...state }\n      CURRENT_TAG.currentTag = action.payload\n      return CURRENT_TAG\n    }\n\n    case 'SORT_KEY': {\n      const SORT_KEY = { ...state }\n      SORT_KEY.sortKey = action.payload\n      return SORT_KEY\n    }\n\n    case 'SEARCH': {\n      const SEARCH = { ...state }\n      SEARCH.searchValue = action.payload\n      return SEARCH\n    }\n\n    case 'NEWKEY': {\n      const NEWKEY = { ...state }\n      NEWKEY.newKey = action.payload\n      return NEWKEY\n    }\n\n    case 'PROGRESS': {\n      const PROGRESS = { ...state }\n      PROGRESS.stateProgress = action.payload\n      return PROGRESS\n    }\n\n    case 'CONFIRM_PUBLISH': {\n      const CONFIRM_PUBLISH = { ...state }\n      CONFIRM_PUBLISH.publishConfirmed = action.payload\n      return CONFIRM_PUBLISH\n    }\n\n    case 'WRONG_FORMAT': {\n      const WRONG_FORMAT = { ...state }\n      WRONG_FORMAT.wrongFormat = action.payload\n      return WRONG_FORMAT\n    }\n\n    case 'CHECK_FORM': {\n      const CHECK_FORM = { ...state }\n      CHECK_FORM.formChecked = action.payload\n      return CHECK_FORM\n    }\n\n    case 'INCOMPLETE_FORM': {\n      const INCOMPLETE_FORM = { ...state }\n      INCOMPLETE_FORM.incompleteForm = action.payload\n      return INCOMPLETE_FORM\n    }\n\n    case 'RESET_DEFAULT_VIDEO': {\n      const RESET_DEFAULT_VIDEO = { ...state }\n      RESET_DEFAULT_VIDEO.previewVideoData = {\n        title: '',\n        thumbnail: 0,\n        featured:false,\n        url: null,\n        videoFile: null,\n        thumbnailFile: null,\n        views: 0,\n        craft: 'systems',\n        likes: [],\n        createdAt: '',\n        helpful: [],\n        notHelpful: [],\n        uploader: '',\n        tags: [],\n      }\n      return RESET_DEFAULT_VIDEO\n    }\n\n    case 'SET_PREVIEW': {\n      const SET_PREVIEW = { ...state }\n      const { key, val } = action.payload\n      SET_PREVIEW.previewVideoData[key] = val\n      return SET_PREVIEW\n    }\n\n    case 'EDIT_VIDEO': {\n      const EDIT_VIDEO = { ...state }\n      EDIT_VIDEO.editedVideo = action.payload\n      return EDIT_VIDEO\n    }\n\n    case 'USER': {\n      const USER = { ...state }\n      USER.user = action.payload\n      return USER\n    }\n\n    case 'ADD_VIDEO': {\n      const ADD_VIDEO = { ...state }\n      ADD_VIDEO.addVideo = action.payload\n      ADD_VIDEO.editedVideo = null\n      return ADD_VIDEO\n    }\n\n    case 'IS_FAM': {\n      const IS_FAM = { ...state }\n      IS_FAM.isIntuitEmployee = action.payload\n      return IS_FAM\n    }\n\n    default:\n      throw new Error('Unexpected action')\n  }\n}\n\nfunction HubStateProvider({ children }) {\n  const [state, dispatch] = React.useReducer(hubReducer, initialHubState)\n  const value = { state, dispatch }\n  return <HubContext.Provider value={value}>{children}</HubContext.Provider>\n}\n\nfunction useHubState() {\n  const context = React.useContext(HubContext)\n  if (context === undefined) {\n    throw new Error('useHubState must be used within a HubStateProvider')\n  }\n  return context\n}\n\nexport { HubStateProvider, useHubState }\n","/Users/mnguessan/dev/hub/src/hooks/useVideo.js",["255"],"import { useState,useEffect } from 'react'\nimport { db,doc,getDoc } from '../utils/firebase'\n\nconst useVideo = videoID =>{\n\n  const [video,setVideo] = useState(null)\n  \n  useEffect(()=>{\n    const getVideoFromFB = async()=> {\n\n      const dbVideo = doc(db,\"hub/data/videos/\"+videoID)\n      const snap = await getDoc(dbVideo)\n      if(snap.exists())setVideo(snap.data())\n    }\n    getVideoFromFB()\n  },[])\n\n  if(video)return video\n  return null\n}\n\nexport default useVideo\n","/Users/mnguessan/dev/hub/src/components/SignIn.js",[],"/Users/mnguessan/dev/hub/src/components/NonIntuitUser.js",[],"/Users/mnguessan/dev/hub/src/components/Hub.js",[],"/Users/mnguessan/dev/hub/src/components/SignOut.js",[],"/Users/mnguessan/dev/hub/src/components/Admin.js",["256"],"import React, { useState, useEffect } from 'react'\nimport useVideos from '../hooks/useVideos'\nimport { useHubState } from '../hub-context'\nimport AddEdit from './AddEdit'\nimport EditVideo from './EditVideo'\nimport Stats from './Stats'\nimport SearchVideo from './SearchVideo'\nimport { db, onSnapshot, query, collection } from '../utils/firebase'\nimport Heads from './Heads'\nimport NoMatch from './NoMatch'\nimport loadAdmin from '../assets/images/loadAdmin.svg'\n\nconst Admin = () => {\n  const videos = useVideos()\n  const {\n    state: { addVideo, editedVideo, searchValue, sortKey, deletedVideos },\n  } = useHubState()\n  const [dbTags, setTags] = useState(null)\n\n  useEffect(() => {\n    const dbTagsQuery = query(collection(db, 'hub/data/tags/'))\n    const unsub = onSnapshot(dbTagsQuery, (snapshot) => {\n      const tmpTags = {}\n      snapshot.forEach((snap) => {\n        tmpTags[snap.id] = snap.data()\n      })\n      setTags(tmpTags)\n    })\n    return unsub\n  }, [editedVideo])\n\n  if (!videos || !Object.keys(videos).length || !dbTags)\n    return (\n      <div className=\"loadAdmin\">\n        {Array.from(Array(11).keys()).map((idx) => (\n          <img src={loadAdmin} key={`loadAdmin${idx}`} />\n        ))}\n      </div>\n    )\n\n  const filteredVideos = Object.keys(videos)\n    .filter(videoID => {\n      const search = searchValue.toLowerCase()\n      const title = videos[videoID].title.toLowerCase()\n      const uploader = videos[videoID].uploader.toLowerCase()\n      const tags = videos[videoID].tags\n        .reduce((acc, itm) => {\n          acc += dbTags[itm]\n          return acc\n        }, '')\n        .toLowerCase()\n      return (\n        (title.includes(search) ||\n          uploader.includes(search) ||\n          tags.includes(search)) &&\n        !deletedVideos.includes(videoID) &&\n        !videos[videoID].hasOwnProperty('archived')\n      )\n    })\n    .sort((videoIDA, videoIDB) => {\n      if (sortKey) {\n        switch (sortKey) {\n          case 'views': {\n            if (videos[videoIDA].views < videos[videoIDB].views) return -1\n            return 1\n          }\n          case 'uploader': {\n            if (videos[videoIDA].uploader < videos[videoIDB].uploader)\n              return -1\n            return 1\n          }\n          case 'title': {\n            if (videos[videoIDA].title < videos[videoIDB].title) return -1\n            return 1\n          }\n\n          default:\n            return 0\n        }\n      } else return 0\n    })\n  return (\n    <section className=\"Dashboard\">\n      {(addVideo || editedVideo) && <AddEdit />}\n      <div className=\"Admin\">\n        <div>\n          <section className=\"SearchVideo\">\n          <SearchVideo />\n          </section>\n          <nav className=\"videosToEdit\">\n            <table cellPadding=\"0\" cellSpacing=\"0\">\n              <Heads />\n              <tbody className=\"tbody\">\n                {filteredVideos.map((videoID) => (\n                  <EditVideo\n                    dbTags={dbTags}\n                    DBVideo={videos[videoID]}\n                    key={videoID}\n                    videoID={videoID}\n                  />\n                ))}\n              </tbody>\n            </table>\n            {!filteredVideos.length && <NoMatch />}\n          </nav>\n        </div>\n        <Stats />\n      </div>\n    </section>\n  )\n}\nexport default Admin\n","/Users/mnguessan/dev/hub/src/components/Detail.js",[],"/Users/mnguessan/dev/hub/src/components/TopBar.js",[],"/Users/mnguessan/dev/hub/src/components/TrainingList.js",[],"/Users/mnguessan/dev/hub/src/components/Footer.js",["257","258","259","260"],"import React from 'react';\nimport footerJson from '../footer-json.json';\nimport FooterItm from './FooterItm';\n\nconst Footer = () => (\n  <footer className=\"Footer\">\n    <section className=\"center\">\n      <div className=\"footerInner\">\n        <article>\n          <h4>\n            Have questions? Contact us on Slack <br />\n            or swing by office hours!\n          </h4>\n          <h5>\n            <span>Office hours every Thursday 11:05am PST</span>\n            <a target=\"_blank\" href=\"https://intuit.zoom.us/j/96903608926\">\n              Zoom link\n            </a>\n          </h5>\n          <ul>\n            <li>\n              <a\n                target=\"_blank\"\n                href=\"https://app.slack.com/client/T2G8RTHAM/C8AH11MF1\"\n              >\n                #ask-ids-cg-design\n              </a>\n              : design questions for components\n            </li>\n            <li>\n              <a\n                target=\"_blank\"\n                href=\"https://app.slack.com/client/T2G8RTHAM/C3TDVMTKQ\"\n              >\n                #ask-cg-visualdesign\n              </a>\n              : visual design questions\n            </li>\n            <li>\n              <a\n                target=\"_blank\"\n                href=\"https://app.slack.com/client/T2G8RTHAM/C01F1NTPYNP\"\n              >\n                #cg-motion\n              </a>\n              : questions for motion/animations\n            </li>\n          </ul>\n        </article>\n        {footerJson.map((itm) => (\n          <FooterItm itm={itm} key={itm.title} />\n        ))}\n      </div>\n      <span>© 2023 Intuit Inc. All rights reserved.</span>\n    </section>\n  </footer>\n);\nexport default Footer;\n","/Users/mnguessan/dev/hub/src/components/Stats.js",[],"/Users/mnguessan/dev/hub/src/components/EditVideo.js",["261","262","263"],"import { useState } from 'react'\nimport viewIcn from '../assets/icons/view.svg'\nimport { useHistory } from 'react-router-dom'\nimport { useHubState } from '../hub-context'\nimport useUsers from '../hooks/useUsers'\nimport moment from 'moment'\nimport Tag from './Tag'\n\nconst width = 80\n\nconst EditVideo = ({ DBVideo, dbTags }) => {\n  const maxTags = 2\n  const { videoID } = DBVideo\n  const users = useUsers()\n  const {\n    state: { addVideo, editedVideo },\n    dispatch,\n  } = useHubState()\n  const [showTags, setShowTags] = useState(null)\n  const history = useHistory()\n  const handleEdit = e => {\n    if (\n      e.target.classList.contains('showLess') ||\n      e.target.classList.contains('showMore')\n    )\n      return\n    if (!addVideo) {\n      dispatch({ type: 'EDIT_VIDEO', payload: videoID })\n      history.push(`/edit/${videoID}`)\n    } else dispatch({ type: 'ADD_VIDEO', payload: false })\n  }\n\n  const showMoreTags = (tagKey) => {\n    if (showTags === tagKey) setShowTags(null)\n    else setShowTags(tagKey)\n  }\n\n  if (!DBVideo || !users || !dbTags) return null\n  const { thumbnail, title, createdAt, tags, uploader, views } = DBVideo\n  const { photoURL, displayName, preferredName } = users[uploader]\n  return (\n    <tr\n      className={`EditVideo ${videoID === editedVideo ? 'selected' : ''}`}\n      onClick={handleEdit}>\n      <td className=\"thumbs\">\n        <div className=\"thumbCtn\"><img src={thumbnail}/></div>\n      </td>\n      <td>\n        <div className=\"edit\">\n          <h3>{title}</h3>\n          <span className=\"ago\">{moment(createdAt.toDate()).fromNow()}</span>\n        </div>\n      </td>\n      <td>\n        <div className=\"tags\">\n          {tags\n            .slice(0, showTags === videoID ? tags.length : maxTags)\n            .map((tagKey) => (\n              <Tag key={tagKey} tagKey={tagKey} tags={dbTags} />\n            ))}\n          {tags.length > maxTags && (\n            <button onClick={() => showMoreTags(videoID)}>\n              {showTags === videoID ? (\n                <span className=\"showLess\">Show less</span>\n              ) : (\n                <span className=\"showMore\">+ {tags.length - maxTags} more</span>\n              )}\n            </button>\n          )}\n        </div>\n      </td>\n      <td>\n        <div className=\"views\">\n          <span>{views}</span>\n          <img width=\"14\" src={viewIcn} />\n        </div>\n      </td>\n      <td>\n        <div className=\"uploader\">\n          <span>{preferredName}</span>\n          <div className=\"photoCtn\">\n            <img src={photoURL} alt={displayName} />\n          </div>\n        </div>\n      </td>\n    </tr>\n  )\n}\nexport default EditVideo\n","/Users/mnguessan/dev/hub/src/components/AddEdit.js",[],"/Users/mnguessan/dev/hub/src/components/Heads.js",["264","265","266","267"],"import React, { useEffect } from 'react';\nimport { useHubState } from '../hub-context';\nimport chevron from '../assets/icons/chevron.svg';\nimport sort from '../assets/icons/sort.svg';\n\nconst Heads = () => {\n  const {\n    state: { sortKey },\n    dispatch,\n  } = useHubState();\n\n  const handleSort = (key) => {\n    const newKey = sortKey !== key ? key : null;\n    window.localStorage.setItem('sortKey', newKey);\n    dispatch({ type: 'SORT_KEY', payload: newKey });\n  };\n\n  useEffect(\n    () =>\n      dispatch({\n        type: 'SORT_KEY',\n        payload: window.localStorage.getItem('sortKey'),\n      }),\n    [dispatch],\n  );\n\n  return (\n    <thead>\n      <tr>\n        <th>\n          <div className=\"sort\">\n            <img width=\"20\" src={sort} />\n          </div>\n        </th>\n        <th>\n          <div onClick={() => handleSort('title')}>\n            <span>Title</span>\n            <img\n              className={`sortChevron ${sortKey === 'title' ? 'active' : ''}`}\n              src={chevron}\n            />\n          </div>\n        </th>\n        <th>\n          <div>\n            <span>Tags</span>\n          </div>\n        </th>\n        <th>\n          <div onClick={() => handleSort('views')}>\n            <span>Views</span>\n            <img\n              className={`sortChevron ${sortKey === 'views' ? 'active' : ''}`}\n              src={chevron}\n            />\n          </div>\n        </th>\n        <th>\n          <div onClick={() => handleSort('uploader')}>\n            <span>Uploader</span>\n            <img\n              className={`sortChevron ${\n                sortKey === 'uploader' ? 'active' : ''\n              }`}\n              src={chevron}\n            />\n          </div>\n        </th>\n      </tr>\n    </thead>\n  );\n};\nexport default Heads;\n","/Users/mnguessan/dev/hub/src/components/SearchVideo.js",[],"/Users/mnguessan/dev/hub/src/components/DetailContent.js",["268"],"import React, { useEffect,useState, useRef } from 'react'\nimport { useParams } from 'react-router-dom'\nimport useVideos from '../hooks/useVideos'\nimport Loading from './Loading'\nimport TagLinks from './TagLinks'\nimport Helpful from './Helpful'\nimport Description from './Description'\nimport Views from './Views'\nimport link from '../assets/icons/link.svg'\nimport { useHubState } from '../hub-context'\n\nconst DetailContent = () => {\n  const copyRef = useRef(null)\n  const { state: { finalURL } } = useHubState()\n  const { videoID } = useParams()\n  const [DBVideo,setDBVideo] = useState(null)\n  const videos = useVideos()\n  const [copySuccess, setCopySuccess] = useState(false)\n  const handleCopy = () => {\n    if (copyRef) {\n      const copyURL = copyRef.current.value\n      navigator.clipboard\n        .writeText(finalURL + copyURL)\n        .then(() => {\n          setCopySuccess(true)\n          setTimeout(() => setCopySuccess(false), 2000)\n        })\n    }\n  }\n\n  useEffect(()=>{\n    if(videos)setDBVideo(videos[videoID])\n  },[videos])\n\n\n  if (!DBVideo) return <Loading />\n  const {title,url} = DBVideo\n  return (\n    <section className=\"DetailContent\">\n      <video src={url} controls autoPlay loop/>\n      <div className=\"meta\">\n        <div>\n          <h1>{title}</h1>\n          <Views count videoID={videoID}/>\n        </div>\n        <div>\n          <div className=\"btnCtn\">\n            <Helpful/>\n            <button onClick={handleCopy} className={`btn copy ${copySuccess?\"copied\":\"\"}`}>\n              {!copySuccess&&<img src={link} alt=\"copy to clipboard\" />}\n              <span>{copySuccess?\"Copied\":\"Copy link\"}</span>\n            </button>\n          </div>\n        </div>\n      </div>\n      <TagLinks videoID={videoID}/>\n      {DBVideo.hasOwnProperty(\"description\")&&<Description des={DBVideo.description}/>}\n      <input ref={copyRef} type=\"hidden\" value={videoID} />\n    </section>\n    )\n}\nexport default DetailContent\n","/Users/mnguessan/dev/hub/src/components/RelatedVideos.js",["269"],"import React from 'react'\nimport useVideos from '../hooks/useVideos'\nimport Video from './Video'\nimport NoMatch from './NoMatch'\nimport { useHubState } from '../hub-context'\n\nconst RelatedVideos = () => {\n  const {\n    state: { currentTag },\n  } = useHubState()\n  const videos = useVideos()\n  const notArchived = (video) => !video.hasOwnProperty('archived')\n\n  if (!videos || !Object.keys(videos).length) return null\n  const filterdVideos = Object.keys(videos).filter((videoKey) =>\n    currentTag\n      ? videos[videoKey].tags.includes(currentTag) &&\n        notArchived(videos[videoKey])\n      : notArchived(videos[videoKey]),\n  )\n  const craftVideo = (craft) =>\n    filterdVideos.filter((videoKey) => videos[videoKey].craft === craft)\n  return (\n    <section className=\"RelatedVideos\">\n      {!filterdVideos.length && <NoMatch />}\n      {filterdVideos.length > 0 && <h3>Most recent</h3>}\n      <div>\n        {filterdVideos.map((videoID) => (\n          <Video key={videoID} video={videos[videoID]} />\n        ))}\n      </div>\n    </section>\n  )\n}\nexport default RelatedVideos\n","/Users/mnguessan/dev/hub/src/components/Filters.js",[],"/Users/mnguessan/dev/hub/src/components/NoMatch.js",[],"/Users/mnguessan/dev/hub/src/components/HubTitle.js",["270"],"import React ,{ useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport { useHubState } from '../hub-context'\nimport {H1} from \"@cgds/typography\"\n\nconst HubTitle = () => {\n  const { dispatch} = useHubState()\n  const location = useLocation()\n  const path = location.pathname.split('/')[1]\n\n  useEffect(()=>{\n    dispatch({type:\"PATH\",payload:path})\n  },[path])\n\n  return (\n    <header className={`HubTitle ${path !== \"\"?\"skinny\":\"\"}`}>\n      <section className=\"center\">\n        {path === 'motion' ?<Motion /> : path === 'systems' ? <Systems />: <Home />}\n      </section>\n    </header>\n  )\n}\n\nconst Home = ()=> (\n  <H1>\n    <span>Welcome</span>\n    <span>to the</span>\n    <span>Learning Hub</span>\n  </H1>\n)\nconst Motion = ()=><H1 className=\"motion\"><span>Motion</span></H1>\nconst Systems = ()=><H1 className=\"systems\"><span>Systems</span></H1>\n\n\nexport default HubTitle\n","/Users/mnguessan/dev/hub/src/components/VideoList.js",[],"/Users/mnguessan/dev/hub/src/components/FooterItm.js",["271","272"],"import React, { useState } from 'react';\nimport chevron from '../assets/icons/chevron.svg';\n\nconst FooterItm = ({ itm }) => {\n  const { title, links } = itm;\n  const [active, setActive] = useState(false);\n  return (\n    <article className={`FooterItm ${active ? 'active' : ''}`}>\n      <h4 onClick={() => setActive(!active)}>\n        <span>{title}</span>\n        <img src={chevron} />\n      </h4>\n      <ul>\n        {links.map((link) => (\n          <li key={link.label}>\n            <a target=\"_blank\" href={link.url}>\n              {link.label}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </article>\n  );\n};\nexport default FooterItm;\n","/Users/mnguessan/dev/hub/src/components/Search.js",["273"],"import React ,{ useEffect } from 'react'\nimport useVideos from '../hooks/useVideos'\nimport Video from './Video'\nimport NoMatch from './NoMatch'\nimport SearchVideo from './SearchVideo'\nimport close from '../assets/icons/close-circle.svg'\nimport { useHubState } from '../hub-context'\n\nconst Search = () => {\n  const { state: { currentTag,slideSearch,searchValue,tags,deletedVideos },dispatch } = useHubState()\n  const videos = useVideos()\n  const notArchived = video => !video.hasOwnProperty('archived')\n\n  const handleCloseSearch = ()=>{\n    \n    dispatch({type:\"SLIDE_SEARCH\",payload:null})\n    setTimeout(()=>{\n      dispatch({type:\"SHOW_SEARCH\",payload:false})\n      dispatch({type:\"SEARCH\",payload:\"\"})\n    },1000)\n  }\n\n  useEffect(()=>{\n    setTimeout(()=>dispatch({type:\"SLIDE_SEARCH\",payload:\"show\"}),300)\n  },[])\n\n  if (!videos || !Object.keys(videos).length) return null\n\n  const filterdVideos = Object.keys(videos)\n    .filter(videoID => {\n      const search = searchValue.toLowerCase()\n      const title = videos[videoID].title.toLowerCase()\n      const uploader = videos[videoID].uploader.toLowerCase()\n      const vidTags = videos[videoID].tags\n        .reduce((acc, itm) => {\n          acc += tags[itm]\n          return acc\n        }, '')\n        .toLowerCase()\n      return (\n        (title.includes(search) ||\n          uploader.includes(search) ||\n          vidTags.includes(search)) &&\n        !deletedVideos.includes(videoID) &&\n        !videos[videoID].hasOwnProperty('archived')\n      )\n    })\n    .filter(videoKey =>\n    currentTag\n      ? videos[videoKey].tags.includes(currentTag) &&\n        notArchived(videos[videoKey])\n      : notArchived(videos[videoKey])\n  )\n  return (\n    <div className={`Search ${slideSearch}`}>\n      <section>\n        <button onClick={handleCloseSearch} className=\"close\"><img src={close} alt=\"close\"/></button>\n        <header>\n          <SearchVideo/>\n        </header>\n        <div className=\"list\">\n        {searchValue !== \"\"&&<>\n            <h3>Search results</h3>\n            <div className=\"results\">\n              {filterdVideos.map((videoID) => (\n                <Video key={videoID} video={videos[videoID]} />\n                ))}\n            </div>\n          </>}\n          {!filterdVideos.length && <NoMatch />}\n          <h3>Most recent</h3>\n          <div className=\"results\">\n            {Object.keys(videos).filter(videoID=>!deletedVideos.includes(videoID) && !videos[videoID].hasOwnProperty('archived')).map(videoID => (\n              <Video key={videoID} video={videos[videoID]} />\n              )).slice(0,2)}\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\nexport default Search\n","/Users/mnguessan/dev/hub/src/components/Tag.js",[],"/Users/mnguessan/dev/hub/src/components/Msg.js",[],"/Users/mnguessan/dev/hub/src/components/VideoUploader.js",["274","275","276","277"],"import React, { useEffect, useState } from 'react'\nimport { useHubState } from '../hub-context'\nimport {\n  db,\n  doc,\n  updateDoc,\n  onSnapshot,\n  getStorage,\n  ref,\n  uploadBytesResumable,\n  getDownloadURL,\n} from '../utils/firebase'\nimport uploadImg from '../assets/icons/upload_blue.svg'\n\n\n\nconst VideoUploader = () => {\n  const [DBVideo, setDBVideo] = useState(null)\n  const [videoSrc, setVideoSrc] = useState(null)\n  const [thumbnail, setThumbnail] = useState(null)\n  const {\n    state: {\n      editedVideo,\n      incompleteForm,\n      previewVideoData,\n      formChecked,\n      wrongFormat\n    },\n    dispatch\n  } = useHubState()\n\n  // const isOwner = user.email !== DBVideo.uploader\n  const isOwner = false\n\n  const handleProgress = snap => {\n    const progress = (snap.bytesTransferred / snap.totalBytes) * 100\n    dispatch({ type: 'PROGRESS', payload: progress })\n  }\n\n  const handleError = err => console.error(err)\n\n  const handleSuccess = (uploadTask, type) =>\n    getDownloadURL(uploadTask.snapshot.ref).then(async (url) => {\n      const videoRef = doc(db, `hub/data/videos/${editedVideo}`)\n      const fileToUpdate = {}\n      fileToUpdate[type] = url\n      await updateDoc(videoRef, fileToUpdate)\n      // celebrate success\n    })\n\n  const upload = (file) => {\n    const type = file.type.startsWith('image/') ? 'thumbnail' : 'url'\n\n    const storage = getStorage()\n    const storageRef = ref(storage, `hub/${file.name.split(' ').join('-')}`)\n    const uploadTask = uploadBytesResumable(storageRef, file)\n\n    uploadTask.on('state_changed', handleProgress, handleError, ()=> handleSuccess(uploadTask, type))\n  }\n\n  const checkUpload = file => {\n    const { size, name } = file\n    const extension = name.split('.').pop()\n    let fileSize = ' > 1 GB'\n    if (size < 1000000) fileSize = `${(size / 1000).toFixed(2)} kb`\n    if (size >= 1000000 && size < 1000000000)\n      fileSize = `${(size / 1000000).toFixed(2)} mb`\n    if (size >= 1000000000 && size < 1000000000000)\n      fileSize = `${(size / 1000000000).toFixed(2)} gb`\n  }\n\n  const handleFileChange = async (e, key) => {\n    if (!e.target.files.length) return\n    const file = e.target.files[0]\n    checkUpload(file)\n    const notAnImageOrVideo =\n      file.type &&\n      !file.type.startsWith('video/') &&\n      !file.type.startsWith('image/')\n    const wrongFormat =\n      (key === 'url' && file.type.startsWith('image/')) ||\n      (key === 'thumbnail' && file.type.startsWith('video/'))\n    if (notAnImageOrVideo || wrongFormat) {\n      dispatch({ type: 'WRONG_FORMAT', payload: true })\n      setTimeout(()=> dispatch({ type: 'WRONG_FORMAT', payload: false }),4000)\n      return\n    }\n    const blobURL = URL.createObjectURL(file)\n    if (key === 'url') setVideoSrc(blobURL)\n    else setThumbnail(blobURL)\n    dispatch({\n      type: 'SET_PREVIEW',\n      payload: {\n        key: key === 'url' ? 'videoFile' : 'thumbnailFile',\n        val: file\n      }\n    })\n    if (editedVideo) upload(file)\n  }\n\n  useEffect(()=> {\n    const unsub = onSnapshot(\n      doc(db, `hub/data/videos/${editedVideo}`),\n      (video) => {\n        setDBVideo(video.data())\n        if (video.data()) {\n          setVideoSrc(video.data().url)\n          setThumbnail(video.data().thumbnail)\n        } else {\n          setVideoSrc(null)\n          setThumbnail(null)\n        }\n      }\n    )\n    return unsub\n  }, [editedVideo])\n  return (\n    <div\n      className={`VideoUploader ${\n        ((incompleteForm && formChecked) || wrongFormat) &&\n        ((editedVideo && !DBVideo.url) ||\n          (!editedVideo && !previewVideoData.url))\n          ? 'error'\n          : ''\n      }`}>\n      <label>Video *</label>\n\n      <div className=\"videoCtn\">\n        {videoSrc && thumbnail ? (\n          <video controls poster={thumbnail} src={videoSrc} />\n        ) : (\n          <label htmlFor=\"video\" className=\"VideoPlaceholder\">\n            {<img height={previewVideoData.thumbnail?\"85%\":30} src={previewVideoData.thumbnail?previewVideoData.thumbnail:uploadImg} />}\n          </label>\n        )}\n        <div className=\"btnCtn\">\n          {!videoSrc && (\n            <label className=\"btn ghost\" htmlFor=\"video\">Select a video</label>\n          )}\n          <button\n            className=\"btn\"\n            onClick={() => dispatch({ type: 'PICK_THUMB', payload: true })}>\n            {thumbnail ? 'Change thumbnail' : 'Select a thumbnail'}\n          </button>\n        </div>\n      </div>\n\n      <form encType=\"multipart/form-data\">\n        <input\n          id=\"thumbnail\"\n          type=\"file\"\n          onChange={(e) => handleFileChange(e, 'thumbnail')}/>\n        <input\n          id=\"video\"\n          type=\"file\"\n          onChange={(e) => handleFileChange(e, 'url')}/>\n      </form>\n    </div>\n  )\n}\n\nexport default VideoUploader\n","/Users/mnguessan/dev/hub/src/components/Title.js",["278"],"import React, { useEffect, useState } from 'react'\nimport { useHubState } from '../hub-context'\nimport { db, doc, updateDoc, onSnapshot } from '../utils/firebase'\n\nconst Title = () => {\n  const [DBVideo, setDBVideo] = useState(null)\n  const {\n    state: { editedVideo, previewVideoData, incompleteForm, formChecked, user },\n    dispatch,\n  } = useHubState()\n\n  const handleUpdateData = async (key, val) => {\n    if (!editedVideo) dispatch({ type: 'SET_PREVIEW', payload: { key, val } })\n    else {\n      const videoToUpdate = { ...DBVideo }\n      videoToUpdate[key] = val\n      const videoRef = doc(db, `hub/data/videos/${editedVideo}`)\n      await updateDoc(videoRef, videoToUpdate)\n    }\n  }\n\n  useEffect(() => {\n    const unsub = onSnapshot(\n      doc(db, `hub/data/videos/${editedVideo}`),\n      (video) => setDBVideo(video.data()),\n    )\n    return unsub\n  }, [editedVideo])\n\n  return (\n    <div\n      className={`Title ${\n        incompleteForm &&\n        formChecked &&\n        ((editedVideo && DBVideo.title === '') ||\n          (!editedVideo && previewVideoData.title === ''))\n          ? 'error'\n          : ''\n      }`}>\n      <label htmlFor=\"title\">Title *</label>\n      <input\n        id=\"title\"\n        type=\"text\"\n        value={editedVideo && DBVideo ? DBVideo.title : previewVideoData.title}\n        onChange={(e) => handleUpdateData('title', e.target.value)}/>\n    </div>\n  )\n}\n\nexport default Title\n","/Users/mnguessan/dev/hub/src/components/Progress.js",[],"/Users/mnguessan/dev/hub/src/components/Wisiwyg.js",["279"],"import React, { useEffect, useState } from 'react'\nimport { useHubState } from '../hub-context'\nimport { db, doc, updateDoc, onSnapshot } from '../utils/firebase'\nimport Draft from './Draft'\n\nconst Wisiwyg = () => {\n  const { state: { editedVideo, previewVideoData, user },  dispatch } = useHubState()\n  const [DBVideo, setDBVideo] = useState(null)\n  const [hideWiz, setHideWiz] = useState(false)\n  const readOnly = editedVideo && DBVideo && user.email !== DBVideo.uploader\n\n  const contentToDB = async richText => {\n    if (editedVideo) {\n      const videoToUpdate = { ...DBVideo }\n      videoToUpdate.description = richText\n      const videoRef = doc(db, `hub/data/videos/${editedVideo}`)\n      await updateDoc(videoRef, videoToUpdate)\n    }\n    dispatch({\n      type: 'SET_PREVIEW',\n      payload: { key: 'description', val: richText },\n    })\n  }\n\n  useEffect(() => {\n    const unsub = onSnapshot(\n      doc(db, `hub/data/videos/${editedVideo}`),\n      (video) => {\n        setDBVideo(video.data() || previewVideoData)\n      },\n    )\n    return unsub\n  }, [editedVideo, previewVideoData])\n\n  useEffect(() => {\n    setHideWiz(true)\n    setTimeout(() => setHideWiz(false), 1)\n  }, [editedVideo])\n\n  return (\n    <div className=\"Wisiwyg\">\n      <label>Description</label>\n      {DBVideo && !hideWiz && (\n        <Draft\n          readOnly={false}\n          contentToDB={contentToDB}\n          DBVideo={DBVideo}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Wisiwyg\n","/Users/mnguessan/dev/hub/src/components/Featured.js",["280"],"import React, { useEffect, useState } from 'react'\nimport { useHubState } from '../hub-context'\nimport { db, doc, updateDoc, onSnapshot } from '../utils/firebase'\n\nconst Featured = () => {\n  const [DBVideo, setDBVideo] = useState(null)\n  const { state: { editedVideo, user, previewVideoData },  dispatch } = useHubState()\n\n  const disabled =\n    editedVideo && DBVideo ? user.email !== DBVideo.uploader : false\n\n  const handleUpdateData = async() => {\n    if (!editedVideo) dispatch({ type: 'SET_PREVIEW', payload: { key: 'featured', val: !previewVideoData.featured } })\n    else {\n      const videoToUpdate = { ...DBVideo }\n      if(!videoToUpdate.hasOwnProperty(\"featured\")) videoToUpdate.featured = true\n      else videoToUpdate.featured = !videoToUpdate.featured\n      const videoRef = doc(db, `hub/data/videos/${editedVideo}`)\n      await updateDoc(videoRef, videoToUpdate)\n    }\n  }\n\n  useEffect(() => {\n    const unsub = onSnapshot(\n      doc(db, `hub/data/videos/${editedVideo}`),\n      video => setDBVideo(video.data())\n    )\n    return unsub\n  },[editedVideo])\n\n  if(!DBVideo)return null\n  return (\n    <div className=\"Featured CraftChoice\">\n      {/* <label>Featured</label> */}\n      <div>\n        <input\n          onChange={handleUpdateData}\n          checked={\n            DBVideo\n              ? DBVideo.featured\n              : previewVideoData.featured\n          }\n          id=\"featured\"\n          type=\"checkbox\"\n          name=\"craft\"\n          disabled={false}/>\n        <label htmlFor=\"featured\">Feature this video?</label>\n      </div>\n    </div>\n  )\n}\n\nexport default Featured\n","/Users/mnguessan/dev/hub/src/components/AddTags.js",["281"],"import React, { useEffect, useState, useRef } from 'react'\nimport { useHubState } from '../hub-context'\nimport {\n  db,\n  doc,\n  updateDoc,\n  onSnapshot\n} from '../utils/firebase'\nimport Tag from './Tag'\n\nconst AddTags = () => {\n  const [DBVideo, setDBVideo] = useState(null)\n  const [recentTags, setRecentTags] = useState(null)\n  const [tagFilter, setTagFilter] = useState('')\n  const [focus, setFocus] = useState('')\n  const [recentHover, setRecentHover] = useState(false)\n  const [tagsHeight, setTagsHeight] = useState(0)\n  const [loaded, setLoaded] = useState(false)\n  const tagsHeightRef = useRef(null)\n\n  const { state: { editedVideo, previewVideoData, user, tags }, dispatch } = useHubState()\n\n  const saveAfterRemove = key => {\n    const newRecent = [...recentTags]\n    newRecent.unshift(key)\n    updateRecent(newRecent)\n  }\n  const handleRemove = async key => {\n    if (editedVideo) {\n      const videoTags = doc(db, `hub/data/videos/${editedVideo}`)\n      const newTags = { ...DBVideo }.tags.filter(tag => tag !== key)\n      await updateDoc(videoTags, { tags: newTags })\n      saveAfterRemove(key)\n    } else {\n      const newTags = { ...previewVideoData }.tags.filter((tag) => tag !== key)\n      dispatch({ type: 'SET_PREVIEW', payload: { key: 'tags', val: newTags } })\n      saveAfterRemove(key)\n    }\n  }\n\n  const addTag = async key => {\n    setTagFilter('')\n    if (editedVideo) {\n      const videoTags = doc(db, `hub/data/videos/${editedVideo}`)\n      const newTags = { ...DBVideo }.tags\n      newTags.push(key)\n      await updateDoc(videoTags, { tags: newTags })\n    } else {\n      const newTags = { ...previewVideoData }.tags\n      newTags.push(key)\n      dispatch({ type: 'SET_PREVIEW', payload: { key: 'tags', val: newTags } })\n    }\n    updateRecent([...recentTags].filter((tag) => tag !== key))\n  }\n\n  const saveContent = ()=> {\n    if (tags) {\n      const oldList =\n        JSON.parse(window.localStorage.getItem('recentTags')) || []\n      const updatedList = [...oldList, ...Object.keys(tags)]\n      updateRecent(updatedList)\n    }\n  }\n\n  const updateRecent = newList => {\n    setRecentTags([...new Set(newList)])\n    window.localStorage.setItem(\n      'recentTags',\n      JSON.stringify([...new Set(newList)]),\n    )\n  }\n\n  // const filteredRecentTags =\n  //   DBVideo\n  //     ? DBVideo.tags\n  //         .filter(tagKey =>\n  //           editedVideo\n  //             ? !DBVideo.tags.includes(tagKey)\n  //             : !previewVideoData.tags.includes(tagKey),\n  //         )\n  //         .filter(tagKey => tags[tagKey].toLowerCase().includes(tagFilter.toLowerCase()))\n  //     : []\n\n  useEffect(()=> {\n    const unsub = onSnapshot(\n      doc(db, `hub/data/videos/${editedVideo}`),video => setDBVideo(video.data()))\n    return unsub\n  }, [editedVideo])\n\n  useEffect(saveContent, [editedVideo, tags])\n\n  useEffect(()=> {\n    if (tagsHeightRef && DBVideo) {\n      setTagsHeight(tagsHeightRef.current.getBoundingClientRect().height)\n    }\n  }, [tagsHeightRef, recentTags, editedVideo, DBVideo])\n\n  useEffect(() => {\n    if (tagsHeightRef && !loaded) {\n      setTimeout(() => {\n        setLoaded(true)\n      }, 700)\n    }\n  }, [tagsHeightRef, editedVideo, loaded])\n\n  return (\n    <div className=\"AddTags\">\n      <label>Tags</label>\n      <div\n        style={{ height: `${tagsHeight + 60}px` }}\n        className={`tagList ${focus} ${loaded ? 'loaded' : ''}`}>\n        <div ref={tagsHeightRef}>\n          {editedVideo &&\n            DBVideo &&\n            tags &&\n            DBVideo.tags.map((tagKey) => (\n              <Tag key={tagKey} tagKey={tagKey} cb={handleRemove} tags={tags} />\n            ))}\n          {!editedVideo &&\n            tags &&\n            previewVideoData.tags.map((tagKey) => (\n              <Tag key={tagKey} tagKey={tagKey} cb={handleRemove} tags={tags} />\n            ))}\n        </div>\n        <input\n          className=\"search\"\n          disabled={ false\n            //editedVideo && DBVideo ? user.email !== DBVideo.uploader : false\n          }\n          onFocus={() => setFocus('focus')}\n          onBlur={() => {\n            if (!recentHover) setFocus('')\n          }}\n          value={tagFilter}\n          placeholder={`${focus ? 'Type' : 'Click'} to pick or create tag...`}\n          onChange={(e) => setTagFilter(e.target.value)}\n          type=\"text\"/>\n\n        <div\n          style={{ top: `${tagsHeight + 70}px` }}\n          className={`recent ${\n            DBVideo && DBVideo.tags.length === 0 ? 'short' : ''\n          }`}\n          onMouseEnter={() => setRecentHover(true)}\n          onMouseLeave={() => {\n            setRecentHover(false)\n            if (focus) setFocus(false)\n          }}>\n          <label>Most used</label>\n     \n          {Object.keys(tags).filter(tagKey=>DBVideo?!DBVideo.tags.includes(tagKey):!previewVideoData.tags.includes(tagKey)).map(tagKey => <Tag key={tagKey} tagKey={tagKey} cb={addTag} tags={tags} />)}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AddTags\n","/Users/mnguessan/dev/hub/src/components/CraftChoice.js",["282"],"import React, { useEffect, useState } from 'react'\nimport { useHubState } from '../hub-context'\nimport { db, doc, updateDoc, onSnapshot } from '../utils/firebase'\n\nconst CraftChoice = () => {\n  const [DBVideo, setDBVideo] = useState(null)\n  const {\n    state: { editedVideo, user, previewVideoData },\n    dispatch\n  } = useHubState()\n\n  const disabled = false\n  //editedVideo && DBVideo ? user.email !== DBVideo.uploader : false\n\n  const handleUpdateData = async craft => {\n    if (!editedVideo)\n      dispatch({ type: 'SET_PREVIEW', payload: { key: 'craft', val: craft } })\n    else {\n      const videoToUpdate = { ...DBVideo }\n      videoToUpdate.craft = craft\n      const videoRef = doc(db, `hub/data/videos/${editedVideo}`)\n      await updateDoc(videoRef, videoToUpdate)\n    }\n  }\n\n  useEffect(()=> {\n    const unsub = onSnapshot(\n      doc(db, `hub/data/videos/${editedVideo}`),\n      video => setDBVideo(video.data())\n    )\n    return unsub\n  }, [editedVideo])\n\n  return (\n    <div className=\"CraftChoice\">\n      <label>Craft</label>\n      <div>\n        <input\n          onChange={()=> handleUpdateData('systems')}\n          checked={\n            DBVideo\n              ? DBVideo.craft === 'systems'\n              : previewVideoData.craft === 'systems'\n          }\n          id=\"systems\"\n          type=\"radio\"\n          name=\"craft\"\n          disabled={disabled}\n        />\n        <label htmlFor=\"systems\">Systems</label>\n      </div>\n      <div>\n        <input\n          onChange={() => handleUpdateData('motion')}\n          checked={\n            DBVideo\n              ? DBVideo.craft === 'motion'\n              : previewVideoData.craft === 'motion'\n          }\n          id=\"motion\"\n          type=\"radio\"\n          name=\"craft\"\n          disabled={disabled}\n        />\n        <label htmlFor=\"motion\">Motion</label>\n      </div>\n    </div>\n  )\n}\n\nexport default CraftChoice\n","/Users/mnguessan/dev/hub/src/components/Publish.js",["283","284","285"],"import React, { useEffect, useState } from 'react';\nimport { useHubState } from '../hub-context';\nimport useAuth from '../hooks/useAuth';\nimport {\n  // firestore\n  db,\n  doc,\n  onSnapshot,\n  collection,\n  addDoc,\n  Timestamp,\n\n  // storage\n  getStorage,\n  ref,\n  deleteObject,\n  uploadBytesResumable,\n  getDownloadURL,\n} from '../utils/firebase';\n\nconst Publish = ({ handleClose }) => {\n  const urls = {};\n  const user = useAuth();\n  const [DBVideo, setDBVideo] = useState(null);\n  const [disable, setDisable] = useState(false);\n  const {\n    state: { editedVideo, previewVideoData },\n    dispatch,\n  } = useHubState();\n\n  const handlePublish = () => {\n    // deleteFile('recap.mov')\n    //   return\n    setDisable(true);\n    if (!editedVideo && !previewVideoData.videoFile) {\n      dispatch({ type: 'INCOMPLETE_FORM', payload: true });\n      dispatch({ type: 'CHECK_FORM', payload: true });\n      setTimeout(() => dispatch({ type: 'CHECK_FORM', payload: false }), 3000);\n      return;\n    }\n\n    if (editedVideo && DBVideo) {\n      confirmPublish();\n    } else if (previewVideoData.videoFile) {\n      const { videoFile, thumbnailFile } = previewVideoData;\n      upload(videoFile);\n    }\n  };\n\n  const upload = (file) => {\n    const storage = getStorage();\n\n    const storageRef = ref(storage, `hub/${file.name.split(' ').join('-')}`);\n    const uploadTask = uploadBytesResumable(storageRef, file);\n    const handleProgress = (snap) => {\n      const progress = (snap.bytesTransferred / snap.totalBytes) * 100;\n      if (progress > 0)\n        dispatch({ type: 'PROGRESS', payload: Math.round(progress) });\n    };\n\n    const handleError = (err) => console.error(err);\n\n    const handleSuccess = () => {\n      getDownloadURL(uploadTask.snapshot.ref).then((url) => urlToDB(url));\n    };\n\n    uploadTask.on('state_changed', handleProgress, handleError, handleSuccess);\n  };\n\n  const urlToDB = async (url) => {\n    const videoData = { ...previewVideoData, ...urls };\n    videoData.createdAt = Timestamp.now();\n    videoData.uploader = user.email;\n    videoData.url = url;\n\n    delete videoData.thumbnailFile;\n    delete videoData.videoFile;\n\n    const newKey = await addDoc(collection(db, `hub/data/videos/`), videoData);\n    dispatch({ type: 'NEWKEY', payload: newKey.id });\n    confirmPublish();\n  };\n\n  const confirmPublish = () => {\n    if (editedVideo) handleClose();\n\n    setDisable(true);\n    setTimeout(() => {\n      dispatch({ type: 'PROGRESS', payload: 0 });\n      if (!editedVideo) dispatch({ type: 'CONFIRM_PUBLISH', payload: true });\n    }, 500);\n  };\n\n  const deleteFile = (fileName) => {\n    const storage = getStorage();\n    const reff = ref(storage, `hub/${fileName}`);\n    deleteObject(reff);\n  };\n\n  useEffect(() => {\n    const unsub = onSnapshot(\n      doc(db, `hub/data/videos/${editedVideo}`),\n      (video) => setDBVideo(video.data()),\n    );\n    return unsub;\n  }, [editedVideo]);\n\n  return (\n    <div className=\"Publish\">\n      {editedVideo ? (\n        <button\n          // disabled={\n          //   editedVideo && DBVideo ? user.email !== DBVideo.uploader : disable\n          // }\n          onClick={() => dispatch({ type: 'DELETE_VIDEO', payload: true })}\n          className=\"btn ghost\">\n          Delete video\n        </button>\n      ) : (\n        <div />\n      )}\n      <button\n        // disabled={\n        //   editedVideo && DBVideo ? user.email !== DBVideo.uploader : disable\n        // }\n        onClick={handlePublish}\n        className=\"btn\">\n        {editedVideo ? 'All set' : 'Publish video'}\n      </button>\n    </div>\n  );\n};\nexport default Publish;\n","/Users/mnguessan/dev/hub/src/components/ConfirmDelete.js",[],"/Users/mnguessan/dev/hub/src/components/PickThumb.js",["286","287"],"import React, { useState, useEffect } from 'react'\nimport { useHubState } from '../hub-context'\nimport { db, doc, updateDoc, onSnapshot } from '../utils/firebase'\nimport uuidv4 from \"uuid/v4\"\nimport thumbz from '../utils/thumbz'\nimport chevron from '../assets/icons/chevron.svg'\n\nconst width = 160\nconst height = 90\nconst gridGap = 10\nconst nbOfColumns = 3\nconst PickThumb = ({ handleClose }) => {\n  const {\n    state: { editedVideo },\n    dispatch,\n  } = useHubState()\n  const [DBVideo, setDBVideo] = useState(null)\n  const [currentCat, setCurrentCat] = useState(0)\n\n  const handleThumChange = async src => {\n    if (editedVideo) {\n      if (DBVideo) {\n        const videoToUpdate = { ...DBVideo }\n        videoToUpdate.thumbnail = src\n        const videoRef = doc(db, `hub/data/videos/${editedVideo}`)\n        await updateDoc(videoRef, videoToUpdate)\n        handleClose()\n      }\n    } else {\n      dispatch({\n        type: 'SET_PREVIEW',\n        payload: {\n          key: 'thumbnail',\n          val: src\n        }\n      })\n      handleClose()\n    }\n  }\n\n  useEffect(() => {\n    const unsub = onSnapshot(\n      doc(db, `hub/data/videos/${editedVideo}`),\n      video => setDBVideo(video.data()),\n    )\n    return unsub\n  }, [editedVideo])\n\n  return (\n    <section className=\"PickThumb\">\n      <div>\n        <h3>Pick a thumbnail:</h3>\n       \n        {Object.keys(thumbz).map((category,catIdx)=>{\n          const nbOfLines = Math.ceil(thumbz[category].length / nbOfColumns) \n\n          const calculatedHeight = nbOfLines * height + ((nbOfLines - 1) * gridGap)\n          return (\n            <article key={uuidv4()} className={`Category ${currentCat === catIdx?\"current\":\"\"}`}>\n              <h4 onClick={()=>setCurrentCat(catIdx)}>\n                <span>{category.split(\"_\").join(\" \")}</span>\n                <img src={chevron}/>\n              </h4>\n              <div className=\"thumbGrid\" style={{height: currentCat === catIdx ? calculatedHeight : 0}}>\n                {thumbz[category].map(thumb=><img onClick={()=>handleThumChange(thumb)} width={width} src={thumb} key={uuidv4()}/>)}\n              </div>\n            </article>\n          )\n        })}\n      </div>\n      <div className=\"btnCtn\">\n        <button onClick={handleClose} className=\"btn\">\n          <span>Continue</span>\n        </button>\n      </div>\n    </section>\n  )\n}\nexport default PickThumb\n","/Users/mnguessan/dev/hub/src/components/Success.js",["288"],"import React, { useState, useRef } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useHubState } from '../hub-context'\nimport hifive from '../assets/images/hifive.svg'\n\nconst Success = ({ handleClose }) => {\n  const { state: { newKey,finalURL } } = useHubState()\n  const [copySuccess, setCopySuccess] = useState(false)\n  const copyRef = useRef(null)\n  const handleCopy = () => {\n    if (copyRef) {\n      const copyURL = copyRef.current.value\n      navigator.clipboard\n      .writeText(finalURL + copyURL)\n        .then(() => {\n          setCopySuccess(true)\n          setTimeout(() => setCopySuccess(false), 2000)\n        })\n    }\n  }\n  return (\n    <div className=\"Success\">\n      <h1>Great job!</h1>\n      <h2>Your video is published</h2>\n      <img width=\"400\" src={hifive} />\n      <input ref={copyRef} type=\"hidden\" value={newKey || ''} />\n      <div className=\"linkss\">\n        <button\n          onClick={handleCopy}\n          className={`btn ghost mini ${copySuccess ? 'success' : ''}`} >\n          {copySuccess ? 'Copied' : 'Copy'}\n        </button>\n        <Link className=\"link\" to={`/detail/${newKey}`}>\n        {finalURL+newKey}\n        </Link>\n      </div>\n\n      <div className=\"btnCtn\">\n        <button className=\"btn\" onClick={handleCopy}>\n          Share it!\n        </button>\n        <button className=\"btn ghost\" onClick={() => handleClose(true)}>\n          Close\n        </button>\n      </div>\n    </div>\n  )\n}\nexport default Success\n","/Users/mnguessan/dev/hub/src/components/Loading.js",["289"],"import React from 'react';\nimport loading from '../assets/icons/loading.gif';\n\nconst Loading = () => (\n  <div className=\"Loading\">\n    <div>\n      <img width=\"50\" src={loading} />\n    </div>\n  </div>\n);\n\nexport default Loading;\n","/Users/mnguessan/dev/hub/src/components/TagLinks.js",[],"/Users/mnguessan/dev/hub/src/components/Views.js",["290"],"import React, { useState, useRef,useEffect } from 'react'\nimport useVideos from '../hooks/useVideos'\nimport viewIcn from '../assets/icons/view.svg'\nimport {\n  db,\n  doc,\n  updateDoc\n} from '../utils/firebase'\n\nconst Views = ({count,videoID}) => {\n  const minTime = 5\n  const videos = useVideos()\n  const [duration, setDuration] = useState(0)\n  const videoRef = useRef(null)\n\n  const updateViews = async()=>{\n    if(count){\n      const dbVideoToUpdate = doc(db, `hub/data/videos/${videoID}`)\n      await updateDoc(dbVideoToUpdate, { views: videos[videoID].views + 1 })\n    }\n  }\n\n\n  useEffect(()=>{\n    if(videos && count && duration > 0){\n    const clear = setTimeout(updateViews,duration>0?(duration*1000)/minTime:60000)\n    return ()=>clearTimeout(clear)\n    }\n  },[videos,duration,videoID])\n\n  \n\n\n  if (!videos) return null\n  return (\n    <div className=\"views\">\n      <img width=\"20\" src={viewIcn} alt=\"views\"/>\n      <span>{videos[videoID].views}</span>\n      <video\n        onLoadedMetadata={e=>setDuration(e.target.duration)}\n        muted ref={videoRef} src={videos[videoID].url}/>\n    </div>\n    )\n}\nexport default Views\n","/Users/mnguessan/dev/hub/src/components/Description.js",[],"/Users/mnguessan/dev/hub/src/components/Helpful.js",["291"],"import React ,{useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport useVideo from '../hooks/useVideo'\nimport likeIcn from '../assets/icons/helpful.svg'\nimport activeLikeIcn from '../assets/icons/helpful_blue.svg'\nimport {\n  db,\n  doc,\n  onSnapshot,\n  updateDoc\n} from '../utils/firebase'\nimport { useHubState } from '../hub-context'\n\nconst Helpful = () => {\n  const { state: { user } } = useHubState()\n  const { videoID } = useParams()\n  const DBVideo = useVideo(videoID)\n  const [dbHelpful,setHelpful] = useState(null)\n  const [dbNotHelpful,setNotHelpful] = useState(null)\n\n\n  const handleHelpfulClick = e =>{\n    const classes = e.target.classList\n    const isHelpful = classes.contains(\"helpful\")\n    const notHelpful = classes.contains(\"notHelpful\")\n    if(isHelpful || notHelpful) updateHelpful(isHelpful)\n  }\n\n  const updateHelpful = async isHelpful => {\n    const dbVideoToUpdate = doc(db, `hub/data/videos/${videoID}`)\n    const helpfulList = { ...DBVideo }.helpful\n    const notHelpfulList = { ...DBVideo }.notHelpful\n\n    if(isHelpful) {\n      if(helpfulList.includes(user.email)) helpfulList.splice(helpfulList.indexOf(user.email),1)\n      else helpfulList.push(user.email)\n      await updateDoc(dbVideoToUpdate, { helpful: helpfulList })\n    } else {\n      if(notHelpfulList.includes(user.email)) notHelpfulList.splice(notHelpfulList.indexOf(user.email),1)\n      else notHelpfulList.push(user.email)\n      await updateDoc(dbVideoToUpdate, { notHelpful: notHelpfulList })\n    }\n  }\n\n  useEffect(()=>{\n\n    const unsub = onSnapshot(doc(db, \"hub/data/videos/\", videoID), doc => {\n        const {\n          helpful:dbHelpful,\n          notHelpful:dbNotHelpful\n        } = doc.data()\n\n        setHelpful(dbHelpful)\n        setNotHelpful(dbNotHelpful)\n    })\n    return unsub\n\n  },[])\n\nif(!dbHelpful||!dbNotHelpful) return null\n  return (\n    <button onClick={handleHelpfulClick} className=\"btn\">\n      <span>Was this helpful?</span>\n      <img\n        className=\"helpful\"\n        src={dbHelpful.includes(user.email)?activeLikeIcn:likeIcn}\n        alt=\"likes\"/>\n      <span>{dbHelpful.length}</span>\n      <img\n        src={dbNotHelpful.includes(user.email)?activeLikeIcn:likeIcn}\n        className=\"notHelpful dislike\"\n        alt=\"dislikes\"/>\n      <span>{dbNotHelpful.length}</span>\n    </button>\n    )\n}\nexport default Helpful\n","/Users/mnguessan/dev/hub/src/components/VideoLoading.js",["292"],"import React from 'react';\nimport loadVid from '../assets/images/loadVid.svg';\n\nconst VideoLoading = () => {\n  const nbOfVideos = Array.from(Array(11).keys());\n\n  return (\n    <div className=\"VideoLoading VideoList center\">\n      <h3>Loading...</h3>\n      <section className=\"vList\">\n        {nbOfVideos.map((idx) => (\n          <img src={loadVid} key={`load${idx}`} />\n        ))}\n      </section>\n    </div>\n  );\n};\n\nexport default VideoLoading;\n","/Users/mnguessan/dev/hub/src/components/Video.js",["293","294"],"import React, { useRef, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Views from './Views'\nimport likeIcn from '../assets/icons/helpful.svg'\n\n\nconst Video = ({ video }) => {\n  const history = useHistory()\n  const videoRef = useRef(null)\n  const [duration, setDuration] = useState('00:00')\n  const { thumbnail, title, helpful, url,videoID } = video\n  const handleVideoLoaded = () => {\n    let s = Math.floor(videoRef.current.duration)\n    let m = Math.floor(s / 60)\n    m = m >= 10 ? m : `0${m}`\n    s = Math.floor(s % 60)\n    s = s >= 10 ? s : `0${s}`\n    setDuration(`${m}:${s}`)\n    videoRef.current.playbackRate = 10\n  }\n\n  return (\n    <article className=\"Video\" onClick={()=>history.push(`/detail/${videoID}`)}>\n      <span className=\"duration\">{duration}</span>\n      <div className=\"thumbnail\">\n        <div className=\"cover\">\n          <img src={thumbnail}/>\n        </div>\n        <video\n          onMouseEnter={e => e.target.currentTime = 0}\n          muted loop autoPlay\n          ref={videoRef}\n          src={url}\n          onLoadedMetadata={handleVideoLoaded}/>\n      </div>\n\n      <div className=\"meta\">\n        <h4>{title}</h4>\n        <div>\n          <Views videoID={videoID}/>\n          <span className=\"helpful\">\n            <img width=\"18\" src={likeIcn} />\n            <span>{helpful.length}</span>\n          </span>\n        </div>\n      </div>\n    </article>\n  )\n}\nexport default Video\n","/Users/mnguessan/dev/hub/src/components/Dog.js",["295","296","297","298","299","300","301"],"import React, { useRef, useEffect, useState } from 'react';\nimport { useHubState } from '../hub-context';\nimport back from '../assets/images/dog/back.svg';\nimport front from '../assets/images/dog/front.svg';\nimport bird1 from '../assets/images/dog/bird1.svg';\nimport bird2 from '../assets/images/dog/bird2.svg';\nimport sun from '../assets/images/dog/sun.svg';\nimport cloud from '../assets/images/dog/cloud.svg';\nimport weiner from '../assets/images/weiner.svg';\n\nconst Dog = () => {\n  const cutoff = 1;\n  const {\n    state: { stateProgress },\n  } = useHubState();\n  const dogRef = useRef(null);\n  const [width, setWidth] = useState(0);\n  const getLeft = (left, strength) =>\n    (((width - 100) * stateProgress) / 100) * strength - left;\n  useEffect(() => {\n    if (dogRef) {\n      setWidth(dogRef.current.getBoundingClientRect().width);\n    }\n  }, [dogRef]);\n  if (!dogRef) return <img className=\"weiner\" src={weiner} />;\n  return (\n    <div className=\"Dog\" ref={dogRef}>\n      <img\n        style={{ transform: `translateX(${`${getLeft(78, 0.8)}px)`}` }}\n        className=\"bird2\"\n        src={bird1}\n      />\n      <img\n        style={{ transform: `translateX(${`${getLeft(76, 0.7)}px)`}` }}\n        className=\"bird1\"\n        src={bird2}\n      />\n      <img\n        style={{ transform: `translateX(${`${getLeft(20, 0.2)}px)`}` }}\n        className=\"sun\"\n        src={sun}\n      />\n      <img\n        style={{ transform: `translateX(${`${getLeft(120, 0.8)}px)`}` }}\n        className=\"cloud\"\n        src={cloud}\n      />\n      <div style={{ width: `${getLeft(0, 0.97) + 4}px` }} className=\"long\" />\n      <img\n        style={{ transform: `translateX(${`${getLeft(76, 0.97)}px)`}` }}\n        className=\"dogFront\"\n        src={front}\n      />\n      {stateProgress >= cutoff && <img className=\"dogBack\" src={back} />}\n    </div>\n  );\n};\nexport default Dog;\n","/Users/mnguessan/dev/hub/src/components/Draft/index.js",[],"/Users/mnguessan/dev/hub/src/utils/thumbz.js",[],{"ruleId":"302","severity":1,"message":"303","line":40,"column":22,"nodeType":"304","endLine":40,"endColumn":36,"suggestions":"305"},{"ruleId":"302","severity":1,"message":"306","line":40,"column":29,"nodeType":"307","endLine":40,"endColumn":35},{"ruleId":"308","replacedBy":"309"},{"ruleId":"310","replacedBy":"311"},{"ruleId":"312","severity":1,"message":"313","line":2,"column":32,"nodeType":"314","messageId":"315","endLine":2,"endColumn":39},{"ruleId":"316","severity":1,"message":"317","line":82,"column":5,"nodeType":"318","messageId":"319","endLine":82,"endColumn":22},{"ruleId":"316","severity":1,"message":"320","line":90,"column":5,"nodeType":"318","messageId":"319","endLine":90,"endColumn":22},{"ruleId":"302","severity":1,"message":"321","line":16,"column":5,"nodeType":"304","endLine":16,"endColumn":7,"suggestions":"322"},{"ruleId":"323","severity":1,"message":"324","line":36,"column":11,"nodeType":"325","endLine":36,"endColumn":58},{"ruleId":"326","severity":1,"message":"327","line":16,"column":13,"nodeType":"325","messageId":"328","endLine":16,"endColumn":76,"fix":"329"},{"ruleId":"326","severity":1,"message":"327","line":22,"column":15,"nodeType":"325","messageId":"328","endLine":25,"endColumn":16,"fix":"330"},{"ruleId":"326","severity":1,"message":"327","line":31,"column":15,"nodeType":"325","messageId":"328","endLine":34,"endColumn":16,"fix":"331"},{"ruleId":"326","severity":1,"message":"327","line":40,"column":15,"nodeType":"325","messageId":"328","endLine":43,"endColumn":16,"fix":"332"},{"ruleId":"312","severity":1,"message":"333","line":9,"column":7,"nodeType":"314","messageId":"315","endLine":9,"endColumn":12},{"ruleId":"323","severity":1,"message":"324","line":46,"column":35,"nodeType":"325","endLine":46,"endColumn":57},{"ruleId":"323","severity":1,"message":"324","line":75,"column":11,"nodeType":"325","endLine":75,"endColumn":43},{"ruleId":"323","severity":1,"message":"324","line":32,"column":13,"nodeType":"325","endLine":32,"endColumn":42},{"ruleId":"323","severity":1,"message":"324","line":38,"column":13,"nodeType":"325","endLine":41,"endColumn":15},{"ruleId":"323","severity":1,"message":"324","line":52,"column":13,"nodeType":"325","endLine":55,"endColumn":15},{"ruleId":"323","severity":1,"message":"324","line":61,"column":13,"nodeType":"325","endLine":66,"endColumn":15},{"ruleId":"302","severity":1,"message":"321","line":33,"column":5,"nodeType":"304","endLine":33,"endColumn":13,"suggestions":"334"},{"ruleId":"312","severity":1,"message":"335","line":21,"column":9,"nodeType":"314","messageId":"315","endLine":21,"endColumn":19},{"ruleId":"302","severity":1,"message":"336","line":13,"column":5,"nodeType":"304","endLine":13,"endColumn":11,"suggestions":"337"},{"ruleId":"323","severity":1,"message":"324","line":11,"column":9,"nodeType":"325","endLine":11,"endColumn":30},{"ruleId":"326","severity":1,"message":"327","line":16,"column":13,"nodeType":"325","messageId":"328","endLine":16,"endColumn":48,"fix":"338"},{"ruleId":"302","severity":1,"message":"336","line":25,"column":5,"nodeType":"304","endLine":25,"endColumn":7,"suggestions":"339"},{"ruleId":"312","severity":1,"message":"340","line":33,"column":9,"nodeType":"314","messageId":"315","endLine":33,"endColumn":16},{"ruleId":"312","severity":1,"message":"341","line":63,"column":11,"nodeType":"314","messageId":"315","endLine":63,"endColumn":20},{"ruleId":"312","severity":1,"message":"342","line":69,"column":7,"nodeType":"314","messageId":"315","endLine":69,"endColumn":15},{"ruleId":"323","severity":1,"message":"324","line":133,"column":14,"nodeType":"325","endLine":133,"endColumn":136},{"ruleId":"312","severity":1,"message":"343","line":8,"column":74,"nodeType":"314","messageId":"315","endLine":8,"endColumn":78},{"ruleId":"312","severity":1,"message":"344","line":10,"column":9,"nodeType":"314","messageId":"315","endLine":10,"endColumn":17},{"ruleId":"312","severity":1,"message":"345","line":9,"column":9,"nodeType":"314","messageId":"315","endLine":9,"endColumn":17},{"ruleId":"312","severity":1,"message":"343","line":21,"column":51,"nodeType":"314","messageId":"315","endLine":21,"endColumn":55},{"ruleId":"312","severity":1,"message":"343","line":8,"column":27,"nodeType":"314","messageId":"315","endLine":8,"endColumn":31},{"ruleId":"312","severity":1,"message":"346","line":25,"column":10,"nodeType":"314","messageId":"315","endLine":25,"endColumn":17},{"ruleId":"312","severity":1,"message":"347","line":45,"column":26,"nodeType":"314","messageId":"315","endLine":45,"endColumn":39},{"ruleId":"312","severity":1,"message":"348","line":94,"column":9,"nodeType":"314","messageId":"315","endLine":94,"endColumn":19},{"ruleId":"323","severity":1,"message":"324","line":62,"column":17,"nodeType":"325","endLine":62,"endColumn":37},{"ruleId":"323","severity":1,"message":"324","line":65,"column":46,"nodeType":"325","endLine":65,"endColumn":131},{"ruleId":"323","severity":1,"message":"324","line":25,"column":7,"nodeType":"325","endLine":25,"endColumn":39},{"ruleId":"323","severity":1,"message":"324","line":7,"column":7,"nodeType":"325","endLine":7,"endColumn":39},{"ruleId":"302","severity":1,"message":"349","line":29,"column":5,"nodeType":"304","endLine":29,"endColumn":30,"suggestions":"350"},{"ruleId":"302","severity":1,"message":"321","line":58,"column":5,"nodeType":"304","endLine":58,"endColumn":7,"suggestions":"351"},{"ruleId":"323","severity":1,"message":"324","line":12,"column":11,"nodeType":"325","endLine":12,"endColumn":51},{"ruleId":"323","severity":1,"message":"324","line":27,"column":11,"nodeType":"325","endLine":27,"endColumn":33},{"ruleId":"323","severity":1,"message":"324","line":42,"column":13,"nodeType":"325","endLine":42,"endColumn":45},{"ruleId":"323","severity":1,"message":"324","line":25,"column":23,"nodeType":"325","endLine":25,"endColumn":62},{"ruleId":"323","severity":1,"message":"324","line":28,"column":7,"nodeType":"325","endLine":32,"endColumn":9},{"ruleId":"323","severity":1,"message":"324","line":33,"column":7,"nodeType":"325","endLine":37,"endColumn":9},{"ruleId":"323","severity":1,"message":"324","line":38,"column":7,"nodeType":"325","endLine":42,"endColumn":9},{"ruleId":"323","severity":1,"message":"324","line":43,"column":7,"nodeType":"325","endLine":47,"endColumn":9},{"ruleId":"323","severity":1,"message":"324","line":49,"column":7,"nodeType":"325","endLine":53,"endColumn":9},{"ruleId":"323","severity":1,"message":"324","line":54,"column":35,"nodeType":"325","endLine":54,"endColumn":73},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch', 'isIntuitEmployee', 'org', and 'users'. Either include them or remove the dependency array.","ArrayExpression",["352"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","UnaryExpression","no-native-reassign",["353"],"no-negated-in-lhs",["354"],"no-unused-vars","'orderBy' is defined but never used.","Identifier","unusedVar","no-dupe-keys","Duplicate key 'QMKDQapl3yzCp06H7'.","ObjectExpression","unexpected","Duplicate key 'QMKDQaplfgbCp06H7'.","React Hook useEffect has a missing dependency: 'videoID'. Either include it or remove the dependency array.",["355"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" (which implies rel=\"noopener\") is a security risk in older browsers: see https://mathiasbynens.github.io/rel-noopener/#recommendations","noTargetBlankWithoutNoreferrer",{"range":"356","text":"357"},{"range":"358","text":"357"},{"range":"359","text":"357"},{"range":"360","text":"357"},"'width' is assigned a value but never used.",["361"],"'craftVideo' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["362"],{"range":"363","text":"357"},["364"],"'isOwner' is assigned a value but never used.","'extension' is assigned a value but never used.","'fileSize' is assigned a value but never used.","'user' is assigned a value but never used.","'readOnly' is assigned a value but never used.","'disabled' is assigned a value but never used.","'disable' is assigned a value but never used.","'thumbnailFile' is assigned a value but never used.","'deleteFile' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'count' and 'updateViews'. Either include them or remove the dependency array.",["365"],["366"],{"desc":"367","fix":"368"},"no-global-assign","no-unsafe-negation",{"desc":"369","fix":"370"},[529,529]," rel=\"noreferrer\"",[740,740],[1014,1014],[1284,1284],{"desc":"371","fix":"372"},{"desc":"373","fix":"374"},[517,517],{"desc":"375","fix":"376"},{"desc":"377","fix":"378"},{"desc":"369","fix":"379"},"Update the dependencies array to be: [dispatch, isIntuitEmployee, org, user, users]",{"range":"380","text":"381"},"Update the dependencies array to be: [videoID]",{"range":"382","text":"383"},"Update the dependencies array to be: [videoID, videos]",{"range":"384","text":"385"},"Update the dependencies array to be: [dispatch, path]",{"range":"386","text":"387"},"Update the dependencies array to be: [dispatch]",{"range":"388","text":"389"},"Update the dependencies array to be: [videos, duration, videoID, count, updateViews]",{"range":"390","text":"391"},{"range":"392","text":"383"},[1147,1161],"[dispatch, isIntuitEmployee, org, user, users]",[401,403],"[videoID]",[1028,1036],"[videoID, videos]",[375,381],"[dispatch, path]",[816,818],"[dispatch]",[767,792],"[videos, duration, videoID, count, updateViews]",[1821,1823]]